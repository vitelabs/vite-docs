(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{547:function(e,t,a){e.exports=a.p+"assets/img/bridge-overview.e738a1be.png"},548:function(e,t,a){e.exports=a.p+"assets/img/bridge-workflow.52bc57f0.png"},549:function(e,t,a){e.exports=a.p+"assets/img/bridge-redirect.2d8daa9d.png"},716:function(e,t,a){"use strict";a.r(t);var o=a(1),i=Object(o.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"vitebridge-a-generic-decentralized-cross-chain-transfer-protocol"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#vitebridge-a-generic-decentralized-cross-chain-transfer-protocol"}},[e._v("#")]),e._v(" ViteBridge: A Generic Decentralized Cross-Chain Transfer Protocol")]),e._v(" "),o("h2",{attrs:{id:"background"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#background"}},[e._v("#")]),e._v(" Background")]),e._v(" "),o("p",[e._v("In recent years, many public blockchain projects have been created, but almost all of them have been built to become closed ecosystems.")]),e._v(" "),o("p",[e._v("This means when users make transactions or use dApps, these actions are only of a trustless nature when performed within the same protocol.")]),e._v(" "),o("p",[e._v("As such, independent blockchains have become isolated islands of both data and digital assets. The space is screaming for an effective and trustless cross-chain protocol.")]),e._v(" "),o("p",[e._v("This paper proposes a generic and decentralized cross-chain transfer protocol to bridge all blockchains. This protocol will allow unconstrained transfer of information and value between heterogeneous ecosystems, and push our industry towards more openness and interoperability.")]),e._v(" "),o("h2",{attrs:{id:"design-goals"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#design-goals"}},[e._v("#")]),e._v(" Design Goals")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Generic")]),e._v(". The protocol is not designed for specific blockchains but should apply to most existing blockchains.")]),e._v(" "),o("li",[o("strong",[e._v("Decentralized")]),e._v(". The protocol must minimize the trust required from any single party in the system. Anyone can join or leave freely according to the rules established by the protocol.")]),e._v(" "),o("li",[o("strong",[e._v("Secure")]),e._v(". The protocol must be Byzantine fault-tolerant and maximize security in confrontation with various attacks.")])]),e._v(" "),o("h2",{attrs:{id:"related-works"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#related-works"}},[e._v("#")]),e._v(" Related Works")]),e._v(" "),o("p",[e._v("Currently, the schemes of cross-chain transfer protocol can mainly summarize into the following categories:")]),e._v(" "),o("h3",{attrs:{id:"top-level-protocol-approaches"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#top-level-protocol-approaches"}},[e._v("#")]),e._v(" Top-Level Protocol Approaches")]),e._v(" "),o("p",[e._v("By providing a top-level cross-chain protocol, all transfers between blockchains that build on the protocol are supported.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://cosmos.network/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosmos"),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://polkadot.network/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Polkadot"),o("OutboundLink")],1),e._v(" are based on this solution to provide cross-chain interoperability.")]),e._v(" "),o("p",[e._v("This solution can only provide interoperability between the blockchains within the ecosystem, but it cannot support the existing heterogeneous blockchains (such as Bitcoin and Ethereum). Moreover, the different top-level protocols are not compatible with each other.\nAt the current stage, it is still too far from having a universal protocol that can be accepted by the whole blockchain industry.")]),e._v(" "),o("h3",{attrs:{id:"single-custodial-approaches"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#single-custodial-approaches"}},[e._v("#")]),e._v(" Single Custodial Approaches")]),e._v(" "),o("p",[e._v("A trusted centralized organization manages the assets on many different blockchains through one or a set of private keys and supports cross-chain transfers between the blockchains.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://custody.coinbase.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Coinbase Custody"),o("OutboundLink")],1),e._v(", "),o("a",{attrs:{href:"https://www.bitgo.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bitgo"),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://vite.wiki/dex/api/gate.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vite Gateway"),o("OutboundLink")],1),e._v(" are based on this scheme.")]),e._v(" "),o("p",[e._v("This solution is effective and is suitable for most blockchains. However, it cannot meet the goals of decentralization and security.")]),e._v(" "),o("h3",{attrs:{id:"federated-custodial-approaches"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#federated-custodial-approaches"}},[e._v("#")]),e._v(" Federated Custodial Approaches")]),e._v(" "),o("p",[e._v("A group of trusted centralized entities jointly manage assets on the blockchain and realize cross-chain transfers between blockchains.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://blockstream.com/liquid/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Liquid"),o("OutboundLink")],1),e._v(" is an inter-exchange settlement network based on a federated custodial approach. Bitcoin is locked by 15 signers including exchanges and liquid providers authorized by Blockstream.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://wbtc.network/",target:"_blank",rel:"noopener noreferrer"}},[e._v("WBTC"),o("OutboundLink")],1),e._v(" is a Bitcoin-backed ERC-20 token on Ethereum. This is still a centralized solution, but instead of relying entirely on one authority, it relies on a consortium of organizations performing different roles in the network.")]),e._v(" "),o("p",[e._v("Although this type of solution introduces multiple custodians to improve security, it is still centralized in nature and does not meet the goal of decentralization.")]),e._v(" "),o("h3",{attrs:{id:"cryptographic-approaches"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cryptographic-approaches"}},[e._v("#")]),e._v(" Cryptographic Approaches")]),e._v(" "),o("p",[e._v("This approach leverages a smart contract on one blockchain to verify whether the transaction on the other blockchain is confirmed. The smart contract serves as a light client of the remote blockchain, and it does not verify the entire block but only the block headers or a Merkle root.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://blog.kyber.network/waterloo-a-decentralized-practical-bridge-between-eos-and-ethereum-1c230ac65524",target:"_blank",rel:"noopener noreferrer"}},[e._v("Waterloo"),o("OutboundLink")],1),e._v(" is a decentralized bridge between EOS and Ethereum. It implements a light client for EOS that only needs to maintain a set of block producers and an algorithm to verify Ethereum PoW hash functions based on the SmartPool algorithm.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://near.org/blog/eth-near-rainbow-bridge/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ETH-NEAR Rainbow Bridge"),o("OutboundLink")],1),e._v(" implements EthOnNearProver, a NEAR contract in Rust, and NearOnEthProver, which is written in Solidity and deployed on Ethereum. EthOnNearProver can verify Ethereum events, while the NearOnEthProver contract verifies NEAR contract execution results on Ethereum.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://docs.keep.network/tbtc/",target:"_blank",rel:"noopener noreferrer"}},[e._v("tBTC"),o("OutboundLink")],1),e._v(" is a design for a decentralized, one-to-one redeemable token pegged to BTC. To prove a deposit, the depositor submits proof that the transaction was included in a valid Bitcoin block with sufficient subsequent accumulated work. The proof is verified by an SPV smart contract on the host blockchain such as Ethereum.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://we.incognito.org/t/shielding-cryptocurrencies-turning-any-cryptocurrency-into-a-privacy-coin/83",target:"_blank",rel:"noopener noreferrer"}},[e._v("Incognito"),o("OutboundLink")],1),e._v(" is a platform of decentralized privacy coins. Through Incognito, a public coin can be shielded to obtain its privacy coin counterpart of the same value. Incognito validators verify the shielding transaction and the deposit proof inside it in particular by using SPV.")]),e._v(" "),o("p",[e._v("Such solutions meet the goals of decentralization and security. However, they are not generic enough.\nDue to the serious challenge of designing a light client for PoS blockchains, it has no efficient way to validate the suffix blocks of those blockchains without the signatures of stakeholders, which depends on the recent stake distributions and cannot be verified externally.")]),e._v(" "),o("h3",{attrs:{id:"game-theoretic-approaches"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#game-theoretic-approaches"}},[e._v("#")]),e._v(" Game-Theoretic Approaches")]),e._v(" "),o("p",[e._v("This approach assumes that the user is always rational and selfish. Through a moderate economic model and rules design, the protocol can achieve game-theoretic security.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://github.com/renproject/ren/wiki",target:"_blank",rel:"noopener noreferrer"}},[e._v("RenVM"),o("OutboundLink")],1),e._v(" uses bonding and algorithmically adjusted fees to make sure that attacks are never profitable and to make sure that it can always restore the one-to-one peg if an attack ever does succeed.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://docs.keep.network/tbtc/",target:"_blank",rel:"noopener noreferrer"}},[e._v("tBTC"),o("OutboundLink")],1),e._v(" requires a bond per deposit from each backing signer because signers are able to collude to censor withdrawals or abscond with funds. Bonded signers offer depositors recourse in the case of colluding signers interfering with operation.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://we.incognito.org/t/shielding-cryptocurrencies-turning-any-cryptocurrency-into-a-privacy-coin/83",target:"_blank",rel:"noopener noreferrer"}},[e._v("Incognito"),o("OutboundLink")],1),e._v("‘s custodian must bond some collateral (ETH or liquid ERC20) into the Bond smart contract with Collateral-to-Deposit ratio is initially set as 150%. So custodians do likely have a motivation to return original public coins to the redeemer.")]),e._v(" "),o("p",[e._v("Such approaches meet the goals of genericity and decentralization. But they are more vulnerable than cryptographic schemes.")]),e._v(" "),o("h2",{attrs:{id:"introduction"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),o("h3",{attrs:{id:"tradeoffs"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#tradeoffs"}},[e._v("#")]),e._v(" Tradeoffs")]),e._v(" "),o("ul",[o("li",[e._v("We are not going to propose a top-level protocol that requests every blockchain project to follow. We believe in a future where many blockchains will blossom to serve different needs. So easy transfer of data and assets between blockchains will become increasingly important. Creating a generic top-level protocol is not a prioritized task. In fact, any attempt to build such a new protocol will only introduce yet another closed ecosystem. Therefore, we choose not to ask for other blockchains to follow our specifications. But on the contrary, we have designed Vite to bridge every blockchain in a decentralized manner.")]),e._v(" "),o("li",[e._v("Due to the significant inherent differences of blockchain projects, many blockchains do not have smart contract VMs. We do not intend to bridge any two blockchains directly. Instead, we will use Vite as a relay chain to forward bi-directional cross-chain transfers between two blockchains.")]),e._v(" "),o("li",[e._v("It is impossible to leverage an existing blockchain, such as Ethereum, to accomplish the same goal because Ethereum lacks a few necessary features. For example, Ethereum cannot hold a secret or sign transactions in smart contracts. Meanwhile, it does not support additional signature algorithms such as Ed25519 in the EVM either. Therefore, we decide to upgrade the current Vite protocol to implement the above features.")]),e._v(" "),o("li",[e._v("Vite Mainnet launched in September 2019. As a battle-hardened blockchain, some features of Vite are very suitable for cross-chain transfer. Benefited from the asynchronous smart contracts, cross-chain deposits and withdrawals can be perfectly implemented on Vite. For example, in a withdrawal case, when the confirmation number of the backed asset burning transaction reaches a given number, a member function of a smart contract is executed by the consensus group to unlock original assets on the remote blockchain.")]),e._v(" "),o("li",[e._v("Considering genericity, this protocol does not implement cryptographic light clients in smart contracts on the remote blockchain. Instead, it adopts a game-theoretic scheme to verify remote blockchain transactions through a set of relays bonding adequate collateral. Relays that failed to perform duties will bear the loss of the collateral.")]),e._v(" "),o("li",[e._v("Also based on the consideration of genericity, the protocol does not require smart contracts on remote blockchains. As long as TSS or Multisig is supported, this protocol can be applied.")]),e._v(" "),o("li",[e._v("Decentralization first matters. Regardless that a few tradeoffs are made in pursuit of genericity, this protocol is designed not to rely on the trust of any single organization or individual, and using the protocol does not require permissions from any party.")])]),e._v(" "),o("h3",{attrs:{id:"protocol-overview"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#protocol-overview"}},[e._v("#")]),e._v(" Protocol Overview")]),e._v(" "),o("p",[e._v("The following figure outlines the architecture of the protocol:\n"),o("img",{attrs:{src:a(547),alt:"alt Protocol Overview"}})]),e._v(" "),o("ul",[o("li",[e._v("The protocol consists of a set of smart contracts deployed on the "),o("strong",[e._v("Vite")]),e._v(" blockchain and a set of relay nodes running off-chain programs.")]),e._v(" "),o("li",[e._v("The Wallet contract takes the role of a "),o("strong",[e._v("decentralized wallet")]),e._v(" of the remote blockchain that is featured to generate public keys, construct remote blockchain transactions, and sign the transactions within the contract.")]),e._v(" "),o("li",[e._v("The Wallet contract deploys on the "),o("strong",[e._v("Vite")]),e._v(" blockchain. It also designates a "),o("em",[e._v("consensus group")]),e._v(", whose members "),o("em",[e._v("hold the private keys")]),e._v(" in a decentralized manner to ensure no single party knows the complete private key.")]),e._v(" "),o("li",[e._v("The members of the consensus group are voted on the Vite blockchain. Anyone can join or leave freely without permission.")]),e._v(" "),o("li",[e._v("The relay node is responsible for reporting transactions on the remote blockchain and minting "),o("em",[e._v("backed assets")]),e._v(" on Vite. Relays must bond collateral in advance during registration and add additional collateral for each excess deposit if required.")])]),e._v(" "),o("h3",{attrs:{id:"contributions"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#contributions"}},[e._v("#")]),e._v(" Contributions")]),e._v(" "),o("p",[e._v("The main contributions of this paper include:")]),e._v(" "),o("ul",[o("li",[e._v("Propose a solution to realize "),o("strong",[e._v("a decentralized wallet")]),e._v(" of "),o("strong",[e._v("any")]),e._v(" blockchain through smart contracts. This solution allows the "),o("strong",[e._v("decentralized custody")]),e._v(" of assets on another blockchain.")]),e._v(" "),o("li",[e._v("Propose a protocol to control the issuance of backed assets through "),o("strong",[e._v("over-collateralizing original assets")]),e._v(" on the remote blockchain. The protocol achieves game-theoretic security via equilibrium, through a game with perfect information between the asset issuer and the stakeholders.")])]),e._v(" "),o("h2",{attrs:{id:"definitions"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#definitions"}},[e._v("#")]),e._v(" Definitions")]),e._v(" "),o("ul",[o("li",[o("p",[o("strong",[e._v("Backed Asset:")]),e._v("\nA backed asset is a crypto asset issued on a blockchain by taking another crypto as collateral. The backed asset is redeemable for the original asset on demand.\nThe value of a backed asset is 1:1 pegged to the original asset.\nThe amount of collateral should reflect the circulating supply of the backed asset.\nFor example, BTC-000 is a BTC-backed asset issued on the Vite blockchain.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Original Asset:")]),e._v("\nAn original asset is a backing asset of the backed asset. For example, the original asset of BTC-000 is BTC.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Origin Blockchain:")]),e._v("\nAn original blockchain is a blockchain on which an original asset stores. For example, Bitcoin is the origin blockchain of BTC.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Host Blockchain:")]),e._v("\nA host blockchain is a blockchain on which a backed asset stores. For example, Vite is the host blockchain of BTC-000.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Vite:")]),e._v(" "),o("a",{attrs:{href:"https://github.com/vitelabs/whitepaper/blob/master/vite_en.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vite"),o("OutboundLink")],1),e._v(" is a DAG-based blockchain that features zero-fee transactions and optimizes for transaction speed, reliability, and security. It installs a smart contract VM and a built-in DEX with on-chain order books.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Remote Blockchain")]),e._v("\nA remote blockchain is a blockchain that connects to Vite through ViteBridge.")])])]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("Note")]),e._v(":")]),e._v(" "),o("p",[e._v("Vite does not always serve as the host blockchain. For example, when a BTC-backed asset is issued on Vite, Vite is the host blockchain, and the remote blockchain (Bitcoin) is the origin blockchain. On the contrary, when a VITE-backed ERC20 token is issued on Ethereum, in this case, Vite becomes the origin blockchain, and Ethereum is the host blockchain.")])]),e._v(" "),o("h2",{attrs:{id:"asynchronous-transfer-model"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#asynchronous-transfer-model"}},[e._v("#")]),e._v(" Asynchronous Transfer Model")]),e._v(" "),o("p",[e._v("A token transfer on Vite includes two transactions, "),o("em",[o("strong",[e._v("T"),o("sub",[e._v("send")])])]),e._v(" and "),o("em",[o("strong",[e._v("T"),o("sub",[e._v("receive")])])]),e._v(" . For example, if Alice wants to transfer 10 VITE to Bob, she should submit a "),o("em",[e._v("T"),o("sub",[e._v("send")])]),e._v(" transaction first. When the transaction is confirmed, 10 VITE will deduct from Alice's account. At this point, Bob has not received the 10 VITE, and Alice's transfer is marked as "),o("em",[e._v("in transit")]),e._v(" in the ledger. When Bob sees "),o("em",[e._v("T"),o("sub",[e._v("send")])]),e._v(" in the ledger, he should initiate a "),o("em",[e._v("T"),o("sub",[e._v("receive ")])]),e._v(" transaction to receive it. After "),o("em",[e._v("T"),o("sub",[e._v("receive")])]),e._v(" is confirmed in the Vite network, the 10 VITE will finally add to Bob's account.")]),e._v(" "),o("p",[e._v("On Vite, Alice and Bob both have their "),o("em",[e._v("own blockchains")]),e._v(" (Account Chain). There is no "),o("strong",[e._v("synchronized world state")]),e._v(" on Vite, and the account states of Alice and Bob are independent.")]),e._v(" "),o("p",[e._v("This model is especially suitable for cross-chain transfer. Because the ledger states of different blockchains are isolated, it is impossible to change the state of two blockchains simultaneously within one transaction.")]),e._v(" "),o("p",[e._v("A "),o("strong",[e._v("cross-chain deposit")]),e._v(" can split into two asynchronous transactions, "),o("em",[e._v("T"),o("sub",[e._v("send")])]),e._v(", which represents as "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" that takes place on the origin blockchain in order to lock the original asset, and "),o("em",[e._v("T"),o("sub",[e._v("mint")])]),e._v(", serving the role of "),o("em",[e._v("T"),o("sub",[e._v("receive")])]),e._v(" that occurs on the host blockchain in the purpose of issuing backed assets.")]),e._v(" "),o("p",[e._v("Similarly, a "),o("strong",[e._v("cross-chain withdrawal")]),e._v(" can also be separated into two async transactions. "),o("em",[e._v("T"),o("sub",[e._v("send")])]),e._v(" works as "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" on the host blockchain to burn the backed asset, while "),o("em",[e._v("T"),o("sub",[e._v("receive")])]),e._v(" becomes "),o("em",[e._v("T"),o("sub",[e._v("unlock")])]),e._v(" on the origin blockchain, so as to unlock the corresponding original asset.")]),e._v(" "),o("p",[e._v("The asynchronous transfer model must follow the rules as below:")]),e._v(" "),o("ul",[o("li",[e._v("A "),o("em",[e._v("T"),o("sub",[e._v("receive")])]),e._v(" is always "),o("strong",[e._v("paired with")]),e._v(" a "),o("em",[e._v("T"),o("sub",[e._v("send")])]),e._v(" transaction.")]),e._v(" "),o("li",[e._v("A "),o("em",[e._v("T"),o("sub",[e._v("receive")])]),e._v(" "),o("strong",[e._v("comes eventually")]),e._v(" after a "),o("em",[e._v("T"),o("sub",[e._v("send")])]),e._v(" takes place.")])]),e._v(" "),o("p",[e._v("This rules is crucial. The first rule ensures the "),o("strong",[e._v("safety")]),e._v(" of the protocol. Backed assets should never be minted in the absence of real deposits, and original assets can only unlock upon actual withdrawals. The second rule guarantees "),o("strong",[e._v("liveness")]),e._v(" of the protocol. After a certain period, the depositor will always get the backed asset, and the withdrawer will finally get the original asset.")]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("Note")]),e._v(":")]),e._v(" "),o("p",[e._v("The asynchronous transfer model is different from "),o("em",[e._v("atomic swap")]),e._v(" model. In atomic swap model, both transactions occur at the same time or neither.")])]),e._v(" "),o("h2",{attrs:{id:"problem-abstraction"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#problem-abstraction"}},[e._v("#")]),e._v(" Problem Abstraction")]),e._v(" "),o("p",[e._v("In general, a cross-chain transfer protocol mainly answers the following questions:")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Lock Transaction Verification")]),e._v(": How to verify that a "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" is confirmed on the remote blockchain.")]),e._v(" "),o("li",[o("strong",[e._v("Mint Transaction Creation")]),e._v(": How to generate a valid "),o("em",[e._v("T"),o("sub",[e._v("mint")])]),e._v(" on the host blockchain based on "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(".")]),e._v(" "),o("li",[o("strong",[e._v("Burn Transaction Verification")]),e._v(". How to verify that "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" is confirmed on the host blockchain.")]),e._v(" "),o("li",[o("strong",[e._v("Unlock Transaction Creation")]),e._v(". How to generate a valid remote blockchain transaction "),o("em",[e._v("T"),o("sub",[e._v("unlock")])]),e._v(" based on "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(".")])]),e._v(" "),o("p",[e._v("The goal of this paper is to establish a bi-directional cross-chain transfer protocol between Vite and the remote blockchain. In the first case, Vite is the "),o("em",[e._v("host blockchain")]),e._v(", and the remote blockchain is used as the "),o("em",[e._v("original blockchain")]),e._v("; in the second case, Vite is the "),o("em",[e._v("original blockchain")]),e._v(", and the remote blockchain becomes the "),o("em",[e._v("host blockchain")]),e._v(".")]),e._v(" "),o("p",[e._v("Let us consider the first case, using Vite as the host blockchain and issuing backed assets of the remote blockchain on Vite.")]),e._v(" "),o("h3",{attrs:{id:"lock-transaction-verification"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#lock-transaction-verification"}},[e._v("#")]),e._v(" Lock Transaction Verification")]),e._v(" "),o("p",[e._v("How to verify that "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" issued by the depositor is confirmed on the remote blockchain?")]),e._v(" "),o("p",[e._v("The perfect solution is to allow each Vite full node to keep a copy of the ledger of the remote blockchain and utilize Vite's "),o("em",[e._v("snapshot chain")]),e._v(" to confirm the transaction. It requires to implement a full node of the remote blockchain on Vite.\nIn this way, any "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" can be verified in the Vite network. Unfortunately, this solution is overkill and cannot be applied in reality because it is impossible for each Vite node to also become a full node for all the remote blockchains.")]),e._v(" "),o("p",[e._v("So, is it possible to replace with light clients and only maintain the partial state, such as block headers or a Merkle root, of the remote blockchain on Vite?\nThis solution works for some remote blockchains, such as Bitcoin or Ethereum, by using additional cryptographic verification to improve system security. We will introduce this solution in the "),o("em",[o("strong",[e._v("Augmented Transaction Verification")])]),e._v(" section later.")]),e._v(" "),o("p",[e._v("However, for most POS blockchains, it is very hard to implement light clients. So, in this case, this approach does not apply.")]),e._v(" "),o("p",[e._v("A more general solution is to introduce a set of "),o("em",[e._v("relay nodes")]),e._v(" that keep a complete ledger of Vite and the remote blockchain locally. Relays are responsible for verifying "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" on the remote blockchain.")]),e._v(" "),o("p",[e._v("The integrity of relays is guaranteed by collateral bonding, and any fraud attempt will lead to collateral losses. In some cases, even the relays conspire or collude, the losses they suffer will be much larger than the money they could abuse.")]),e._v(" "),o("p",[e._v("How the relays verify transactions on the remote blockchain is a key point of this paper, which will be explained in detail in the follow-up sections.")]),e._v(" "),o("h3",{attrs:{id:"mint-transaction-creation"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mint-transaction-creation"}},[e._v("#")]),e._v(" Mint Transaction Creation")]),e._v(" "),o("p",[e._v("How to generate a valid Vite transaction "),o("em",[e._v("T"),o("sub",[e._v("mint")])]),e._v(" according to "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v("?")]),e._v(" "),o("p",[e._v("The minting of backed assets is performed through a smart contract deployed on Vite.")]),e._v(" "),o("p",[e._v("The backed asset is the "),o("em",[e._v("redeemable token")]),e._v(" issued on Vite. As a specific token for ViteBridge, it has no other way to mint except in the smart contract.")]),e._v(" "),o("h3",{attrs:{id:"burn-transaction-verification"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#burn-transaction-verification"}},[e._v("#")]),e._v(" Burn Transaction Verification")]),e._v(" "),o("p",[e._v("How to verify that "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" is confirmed on Vite?")]),e._v(" "),o("p",[e._v("It is also realized through the smart contract on Vite.")]),e._v(" "),o("p",[e._v("After the withdrawer sends the backed asset to the contract, these redeemable tokens will be burnt.\nThe "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" transaction must be confirmed (after necessary snapshots) before any subsequent step can proceed.\nLuckily, the presence of asynchronous smart contracts on Vite makes the above process easily accomplished.")]),e._v(" "),o("h3",{attrs:{id:"unlock-transaction-creation"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#unlock-transaction-creation"}},[e._v("#")]),e._v(" Unlock Transaction Creation")]),e._v(" "),o("p",[e._v("How to generate a valid remote blockchain transaction "),o("em",[e._v("T"),o("sub",[e._v("unlock")])]),e._v(" according to "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v("?")]),e._v(" "),o("p",[e._v("Our solution is to implement a "),o("strong",[e._v("wallet smart contract")]),e._v(" on Vite to manage remote blockchain's assets in a decentralized manner.\nThis wallet smart contract can assemble a valid transaction and sign it in correspondence with the remote blockchain protocol.")]),e._v(" "),o("p",[e._v("It is another focus of this paper and will be described in detail later.")]),e._v(" "),o("h2",{attrs:{id:"workflows"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#workflows"}},[e._v("#")]),e._v(" Workflows")]),e._v(" "),o("p",[e._v("The following figure describes several key workflows of the protocol by using Vite as the host blockchain and the original blockchain respectively.")]),e._v(" "),o("ul",[o("li",[e._v("Suppose a BTC backed token BTC-000 is issued on Vite. At this time, Bitcoin is the original blockchain, and Vite is the host blockchain.")]),e._v(" "),o("li",[e._v("Suppose an ERC20 contract is deployed on Ethereum and a BTC-000 backed token vBTC is issued. At this time, Vite is the original blockchain, and Ethereum is the host blockchain.")])]),e._v(" "),o("p",[e._v("Below we separately describe the processes of cross-chain transfer of BTC between Bitcoin and Vite, and between Vite and Ethereum.")]),e._v(" "),o("p",[o("img",{attrs:{src:a(548),alt:"alt Protocol Overview"}})]),e._v(" "),o("h3",{attrs:{id:"transfer-from-bitcoin-to-vite"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#transfer-from-bitcoin-to-vite"}},[e._v("#")]),e._v(" Transfer from Bitcoin to Vite")]),e._v(" "),o("ol",[o("li",[e._v("The depositor requests a BTC deposit address from the "),o("em",[e._v("Bitcoin Wallet")]),e._v(" contract according to his Vite address.")]),e._v(" "),o("li",[e._v("The depositor initiates a transaction on Bitcoin and transfers BTC to the deposit address.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("relay")]),e._v(" discovers that the deposit address has received BTC.")]),e._v(" "),o("li",[e._v("After the transaction is confirmed, the relay node reports a "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" to the "),o("em",[e._v("Bitcoin Relay")]),e._v(" contract.")]),e._v(" "),o("li",[e._v("After the "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" transaction has been reported by a quorum of relays, it is regarded as confirmed on the Bitcoin blockchain. At this time, the "),o("em",[e._v("Bitcoin Wallet")]),e._v(" contract will be notified.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("Bitcoin Wallet")]),e._v(" contract looks up the Vite address according to the depositor's BTC deposit address, and then notifies the "),o("em",[e._v("BTC-000 Wallet")]),e._v(" contract to mint the BTC-000 tokens.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("BTC-000 Wallet")]),e._v(" contract mints an equivalent amount of BTC-000 and sends them to the depositor’s Vite address.")])]),e._v(" "),o("h3",{attrs:{id:"vault-transfers"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#vault-transfers"}},[e._v("#")]),e._v(" Vault Transfers")]),e._v(" "),o("ol",{attrs:{start:"8"}},[o("li",[e._v("In order to facilitate subsequent unlocking of funds for withdrawals, it is necessary to collect funds scattered in different deposit addresses and aggregate them into a single vault address.")]),e._v(" "),o("li",[e._v("When the "),o("em",[e._v("TSS consensus group")]),e._v(" is at the end of term, a new vault address will be generated. At this time, the old vault address will be discarded and all funds will be transferred to the new vault.")])]),e._v(" "),o("h3",{attrs:{id:"transfer-from-vite-to-bitcoin"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#transfer-from-vite-to-bitcoin"}},[e._v("#")]),e._v(" Transfer from Vite to Bitcoin")]),e._v(" "),o("ol",{attrs:{start:"10"}},[o("li",[e._v("In a withdrawal process, a user holding BTC-000 can initiate a withdrawal transaction on the Vite blockchain, sending BTC-000 tokens to the "),o("em",[e._v("BTC-000 Wallet")]),e._v(" contract, with his Bitcoin address to receive BTC.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("BTC-000 Wallet")]),e._v(" contract burns the received BTC-000 tokens and waits until the "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" transaction obtains enough confirmations, then notifies the "),o("em",[e._v("Bitcoin Wallet")]),e._v(" contract to unlock the equal amount of BTC.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("Bitcoin Wallet")]),e._v(" contract assembles a "),o("em",[e._v("T"),o("sub",[e._v("unlock")])]),e._v(" transaction of Bitcoin and sign it.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("relay")]),e._v(" obtains the signed Bitcoin transaction and broadcast it to the Bitcoin network.")]),e._v(" "),o("li",[e._v("After "),o("em",[e._v("T"),o("sub",[e._v("unlock")])]),e._v(" is confirmed, the withdrawer receives the original BTC in his Bitcoin address.")])]),e._v(" "),o("h3",{attrs:{id:"internal-transfers"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#internal-transfers"}},[e._v("#")]),e._v(" Internal Transfers")]),e._v(" "),o("ol",{attrs:{start:"15"}},[o("li",[e._v("As a native token issued on Vite, BTC-000 can be freely transferred between Vite addresses.")])]),e._v(" "),o("h3",{attrs:{id:"transfer-from-vite-to-ethereum"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#transfer-from-vite-to-ethereum"}},[e._v("#")]),e._v(" Transfer from Vite to Ethereum")]),e._v(" "),o("ol",{attrs:{start:"16"}},[o("li",[e._v("In a cross-chain scenario, BTC-000 token holders can transfer it to Ethereum to obtain the equivalent "),o("em",[e._v("vBTC")]),e._v(", which is a BTC-000 backed ERC20 token issued on Ethereum. At this point, the depositor can initiate a transaction on Vite, sending BTC-000 to the "),o("em",[e._v("BTC-000 Wallet")]),e._v(" contract, with his Ethereum address to receive vBTC.")]),e._v(" "),o("li",[e._v("At this time, unlike the withdrawal process, the "),o("em",[e._v("BTC-000 Wallet")]),e._v(" contract does "),o("strong",[e._v("not burn")]),e._v(" the received BTC-000 tokens, but "),o("strong",[e._v("lock")]),e._v(" them in the contract as the reserve for vBTC. When "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" has obtained enough confirmations, the "),o("em",[e._v("Ethereum Wallet")]),e._v(" contract will be notified to unlock the corresponding vBTC.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("Ethereum Wallet")]),e._v(" contract assembles a "),o("em",[e._v("T"),o("sub",[e._v("mint")])]),e._v(" of Ethereum and sign it. This transaction will be sent to the "),o("em",[e._v("vBTC ERC20")]),e._v(" contract on Ethereum.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("relay")]),e._v(" fetches the signed Ethereum transaction and broadcast it to the Ethereum network.")]),e._v(" "),o("li",[e._v("After the "),o("em",[e._v("vBTC ERC20")]),e._v(" contract on Ethereum receives the transaction, it verifies the signature according to the public keys of the "),o("em",[e._v("TSS consensus group")]),e._v(". If the verification passes, the same amount of vBTC will be minted and sent to the user's Ethereum address.")])]),e._v(" "),o("h3",{attrs:{id:"transfer-from-ethereum-to-vite"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#transfer-from-ethereum-to-vite"}},[e._v("#")]),e._v(" Transfer from Ethereum to Vite")]),e._v(" "),o("ol",{attrs:{start:"21"}},[o("li",[e._v("Holders of vBTC can initiate a cross-chain withdraw transaction, by calling the "),o("em",[e._v("vBTC ERC20")]),e._v(" contract on Ethereum, to redeem an equivalent amount of BTC-000 on Vite. The "),o("em",[e._v("vBTC ERC20")]),e._v(" contract will deduct the vBTC from the user's balance and burn them.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("relay")]),e._v(" discovers a "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" transaction of the "),o("em",[e._v("vBTC ERC20")]),e._v(" contract on Ethereum.")]),e._v(" "),o("li",[e._v("When "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" is confirmed, the relay reports it to the "),o("em",[e._v("Ethereum Relay")]),e._v(" contract on Vite.")]),e._v(" "),o("li",[e._v("After the "),o("em",[e._v("Ethereum Relay")]),e._v(" contract has been reported by a quorum of relays, the "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" transaction is regarded as confirmed, and the "),o("em",[e._v("BTC-000 Wallet")]),e._v(" contract will be notified to unlock BTC-000.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("BTC-000 Wallet")]),e._v(" contract unlocks an equivalent amount of BTC-000 and sends them to the user's Vite address.")])]),e._v(" "),o("h2",{attrs:{id:"wallet-contract"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#wallet-contract"}},[e._v("#")]),e._v(" Wallet Contract")]),e._v(" "),o("p",[e._v("In this section, we discuss how to implement a decentralized "),o("em",[e._v("wallet")]),e._v(" of a remote blockchain through Vite smart contracts, so as to manage assets on the remote blockchain in a decentralized manner. The contract has the following features:")]),e._v(" "),o("ul",[o("li",[e._v("According to the beneficiary address provided by the depositor, an unique deposit address is generated. Depending on the remote blockchain's protocol, the deposit address can be an address, or a tuple of "),o("code",[e._v("(address, memo)")]),e._v(".")]),e._v(" "),o("li",[e._v("Maintain address mapping and look up the corresponding beneficiary address of "),o("em",[e._v("T"),o("sub",[e._v("mint")])]),e._v(" after receiving a "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" notification from the Relay contract.")]),e._v(" "),o("li",[e._v("Assemble a transaction for the remote blockchain in the correct format.")]),e._v(" "),o("li",[e._v("Sign a remote blockchain transaction.")])]),e._v(" "),o("p",[e._v("For the general purpose of the protocol, the smart contract should "),o("em",[e._v("hold a private key")]),e._v(", so as to generate addresses and sign transactions based on the remote blockchain's protocol.\nIn the meantime, in order to keep the protocol decentralized, not any single node of the host blockchain has opportunity to know the private key of the contract.")]),e._v(" "),o("p",[e._v("It is not easy for common blockchains because typical smart contracts cannot hold a secret. But thanks to the presence of "),o("em",[e._v("Consensus Group")]),e._v(", the "),o("em",[e._v("Wallet Contract")]),e._v(" can be implemented on "),o("strong",[e._v("Vite")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"consensus-group"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#consensus-group"}},[e._v("#")]),e._v(" Consensus Group")]),e._v(" "),o("p",[e._v("On Vite, each "),o("em",[e._v("contract")]),e._v(" is assigned to a "),o("em",[e._v("consensus group")]),e._v(", and the nodes constituting the consensus group are selected according to protocol rules. For example, the stakeholders of VITE token vote for the top "),o("em",[e._v("N")]),e._v(" nodes in the group.")]),e._v(" "),o("p",[e._v("Only nodes in the consensus group can produce blocks for the contract. To complete this job, they execute the contract's code and return a correct result that can be verified by other nodes in the Vite network.")]),e._v(" "),o("p",[e._v("Why is consensus group so important? Let's look at several scenarios.")]),e._v(" "),o("ol",[o("li",[e._v("Multiple users call a contract simultaneously. In this scenario, the contract must prioritize the requests. For example, two users submit orders to a DEX contract at the same time, if there is no rule specifying the order of processing, it will cause the "),o("em",[e._v("front-running")]),e._v(" vulnerability.")]),e._v(" "),o("li",[e._v("Generate a safe random number in a decentralized manner.")]),e._v(" "),o("li",[e._v("Sign a message in a smart contract.")])]),e._v(" "),o("p",[e._v("On a blockchain without consensus groups, such as Ethereum, the scenarios cannot be handled well.")]),e._v(" "),o("ol",[o("li",[e._v("In a DEX on Ethereum, after a trading transaction is broadcasted, a front-runner can quickly place another order at the same price with a higher gas price. Since the execution order of the transactions is determined by miners, the first transaction will be suppressed because miners always choose transactions with higher fees.")]),e._v(" "),o("li",[e._v("A third party can deploy a VRF-based random number generator contract on Ethereum, such as "),o("a",{attrs:{href:"https://docs.chain.link/docs/chainlink-vrf",target:"_blank",rel:"noopener noreferrer"}},[e._v("Chainlink VRF"),o("OutboundLink")],1),e._v(". The random numbers can be verified on chain, but the nodes participating in the random number generating are determined by Chainlink's off-chain rules, which will not go through the on-chain consensus of Ethereum.")]),e._v(" "),o("li",[e._v("Ethereum can only verify signatures in the contract. Signing a message in the contract is not supported.")])]),e._v(" "),o("p",[e._v("In contrast, we can easily implement the scenarios through consensus groups on Vite.")]),e._v(" "),o("h4",{attrs:{id:"contract-request-ordering"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#contract-request-ordering"}},[e._v("#")]),e._v(" Contract Request Ordering")]),e._v(" "),o("p",[e._v("The consensus group defines a rule to sort incoming requests, for example, sort by the hash of request transaction, to prevent front-running.")]),e._v(" "),o("h4",{attrs:{id:"random-functions"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#random-functions"}},[e._v("#")]),e._v(" Random Functions")]),e._v(" "),o("p",[e._v("The consensus group uses VRF (Verifiable Random Function) to generate random numbers that will be used in the contract. It communicates with the smart contract through specific built-in functions and ViteVM instructions.")]),e._v(" "),o("ul",[o("li",[e._v("A node in the consensus group generates a random seed at local and publishes the proof to the Vite network.")]),e._v(" "),o("li",[e._v("After a certain period, the consensus group node releases the previously generated random seed to the Vite network, and other nodes can verify based on the proof they received earlier.")]),e._v(" "),o("li",[e._v("A smart contract requests a random number by calling the built-in function "),o("code",[e._v("random64()")]),e._v(" or "),o("code",[e._v("nextrandom()")]),e._v(".")]),e._v(" "),o("li",[e._v("The two functions are compiled into ViteVM code instructions "),o("code",[e._v("0x4A OP_SEED")]),e._v(" and "),o("code",[e._v("0x4B OP_RANDOM")]),e._v(".")]),e._v(" "),o("li",[e._v("A user initiates a "),o("em",[e._v("T"),o("sub",[e._v("request")])]),e._v(" transaction to call the contract. The contract will not be executed until the transaction is confirmed to ensure the execution will not revert.")]),e._v(" "),o("li",[e._v("When the VM executes instruction "),o("code",[e._v("0x4A OP_SEED")]),e._v(" or "),o("code",[e._v("0x4B OP_RANDOM")]),e._v(", it obtains a random seed according to the height of "),o("em",[e._v("T"),o("sub",[e._v("request")])]),e._v(" and generates a random number based on it.")])]),e._v(" "),o("h4",{attrs:{id:"sign-messages-in-smart-contract"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#sign-messages-in-smart-contract"}},[e._v("#")]),e._v(" Sign messages in Smart Contract")]),e._v(" "),o("p",[e._v("By leveraging distributed off-chain computation, the consensus group signs the data within the contract according to a specific signing rule. For example, among "),o("em",[e._v("M")]),e._v(" nodes in the consensus group, "),o("em",[e._v("N")]),e._v(" ("),o("em",[e._v("N")]),e._v(" < "),o("em",[e._v("M")]),e._v(") nodes can collaborate and generate a valid signature.")]),e._v(" "),o("p",[e._v("The following conditions must be satisfied to produce a decentralized signature:")]),e._v(" "),o("ul",[o("li",[e._v("To prevent fraud, any node in the Vite network can verify the membership of the consensus group.")]),e._v(" "),o("li",[e._v("The members of the consensus group are voted every a certain time has passed. New members do not need permission from old ones to join.")]),e._v(" "),o("li",[e._v("No single node in the consensus group can obtain the complete private key. Even if multiple nodes conspire, they still cannot assemble a valid signature.")])]),e._v(" "),o("h3",{attrs:{id:"tss-consensus-group"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#tss-consensus-group"}},[e._v("#")]),e._v(" TSS Consensus Group")]),e._v(" "),o("p",[e._v("Below we take use of TSS (threshold signature scheme) to construct a consensus group, generate a public key, and sign transactions for smart contracts in a decentralized manner.")]),e._v(" "),o("p",[e._v("The workflow is as follows:")]),e._v(" "),o("ul",[o("li",[e._v("The consensus group executes "),o("em",[e._v("TSS Key Generation")]),e._v(" to create a public key and a set of private keys for each node in the group, then publishes the public key to the Vite network. The private keys will be used for subsequent signing. This process requires ad-hoc peer to peer communications between nodes in the consensus group.")]),e._v(" "),o("li",[e._v("The membership of the consensus group has a fixed "),o("strong",[e._v("term")]),e._v(". When it expires, the protocol will select a new group of nodes according to the consensus rules, then calls "),o("em",[e._v("TSS Regroup")]),e._v(" to generate a new public key and new private keys, and finally publishes the public key to the Vite network.")]),e._v(" "),o("li",[e._v("It is necessary to set up a transition period for group handover. During the time, the old members of the consensus group cannot quit immediately, but they still need to process incoming signing requests.")]),e._v(" "),o("li",[e._v("Every time the consensus group is changed, it sends a "),o("code",[e._v("tssRegrouped")]),e._v(" message to notify the smart contracts.")]),e._v(" "),o("li",[e._v("The smart contract calls the Vite built-in function "),o("code",[e._v("tss_pubkey(uint epoch)")]),e._v(" to obtain the public key of the consensus group. The "),o("code",[e._v("epoch")]),e._v(" parameter specifies the term of the consensus group.")]),e._v(" "),o("li",[e._v("The smart contract signs a transaction by calling the Vite built-in function "),o("code",[e._v("tss_sign(unit epoch, bytes32 data)")]),e._v(". The "),o("code",[e._v("epoch")]),e._v(" parameter specifies the term of the consensus group that will be used to sign the transaction. The signature will not return immediately. Instead, the consensus group will send an asynchronous "),o("code",[e._v("tssSigned")]),e._v(" message to the smart contract to return the signature.")])]),e._v(" "),o("h3",{attrs:{id:"deposit-address"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#deposit-address"}},[e._v("#")]),e._v(" Deposit Address")]),e._v(" "),o("p",[e._v("In order to map "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" on the original blockchain to "),o("em",[e._v("T"),o("sub",[e._v("mint")])]),e._v(" on Vite, it is necessary to create different mapping schemes according to the protocols of the original blockchain.")]),e._v(" "),o("p",[e._v("First of all, the original blockchain should support at least one of the following features: Smart contracts, Multi-sig, or TSS, in order to implement a decentralized wallet based on smart contracts on Vite.")]),e._v(" "),o("p",[e._v("For original blockchains that support smart contracts, a deposit can be sent to the contract address including a valid beneficiary address as parameter.")]),e._v(" "),o("p",[e._v("For original blockchains that do not support smart contracts, there are usually two ways to generate a deposit address:")]),e._v(" "),o("ol",[o("li",[e._v("Original blockchain supports memo or other user-customized fields in a transaction. In this case, a shared deposit address can be generated through the Wallet contract, and the depositor should specify the beneficiary address in the memo.")]),e._v(" "),o("li",[e._v("Original blockchain does not support memo fields in the transaction. In this case, a separate deposit address is generated for each user through the Wallet contract, and the address mapping between deposit address and benificiary address is stored in the Wallet contract in order to identify different users.")])]),e._v(" "),o("p",[e._v("Below we take Bitcoin as an example to introduce how to generate a separate original blockchain deposit address for each user in the Wallet contract.")]),e._v(" "),o("p",[e._v("Every Bitcoin transaction contains "),o("em",[e._v("Bitcoin Script")]),e._v(", which can be used to carry custom data. However, adding a beneficiary address directly to the locking script of "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" requires that the depositor must use a specific wallet software to sign the transaction, which is not user-friendly.")]),e._v(" "),o("p",[e._v("In "),o("em",[e._v("BIP16")]),e._v(", Bitcoin introduced P2SH (Pay to Script Hash) transactions to simplify the locking script. Therefore, we choose the P2SH address as the deposit address, so that users can use any client that supports BIP16 to initiate a deposit, including from a crypto exchange.")]),e._v(" "),o("p",[e._v("The deposit address generation scheme is as follows:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Ly8gUmVkZWVtIHNjcmlwdAombHQ7cmVjaXBpZW50X2FkZHJlc3NfaGFzaCZndDsKT1BfRFJPUAombHQ7dHNzX3B1YmtleSZndDsKT1BfQ0hFQ0tTSUcKCi8vIExvY2tpbmcgc2NyaXB0Ck9QX0hBU0gxNjAKJmx0OzIwLWJ5dGUgaGFzaCBvZiBSZWRlZW0gU2NyaXB0Jmd0OwpPUF9FUVVBTAoKLy8gVW5sb2NraW5nIHNjcmlwdAombHQ7dHNzX3NpZ25hdHVyZSZndDsKJmx0O3JlZGVlbSBzY3JpcHQmZ3Q7Cg=="}}),e._v(" "),o("p",[e._v("In the redeem script, the hash of beneficiary address will be pushed into the stack and popped up immediately. The instructions here are only used to distinguish different depositors and have no influence on the unlocking process.")]),e._v(" "),o("p",[o("code",[e._v("tss_pubkey")]),e._v(" is the TSS public key of the consensus group. It is returned by calling the Vite built-in function "),o("code",[e._v("tss_pubkey_secp256k1()")]),e._v(" in the Wallet contract.")]),e._v(" "),o("p",[e._v("When the members of the consensus group are changed, "),o("code",[e._v("tss_pubkey")]),e._v(" is changed, causing all deposit addresses to be invalid. Therefore, it is important to show the expiration time of the current deposit address on the client UI.")]),e._v(" "),o("h3",{attrs:{id:"refund"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#refund"}},[e._v("#")]),e._v(" Refund")]),e._v(" "),o("p",[e._v("If the depositor transfers funds to an expired deposit address, the funds may lose. To avoid this situation, we can add a "),o("em",[e._v("Time Lock")]),e._v(" to enable refund after a timeout. The modified redeem script is as follows:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Ly8gUmVkZWVtIHNjcmlwdAkKT1BfSUYKICAgICZsdDtiZW5lZmljaWFyeV9hZGRyZXNzX2hhc2gmZ3Q7CiAgICBPUF9EUk9QCiAgICAmbHQ7dHNzX3B1YmtleSZndDsKICAgIE9QX0NIRUNLU0lHCk9QX0VMU0UKICAgICZsdDtkZXBvc2l0X3RpbWVvdXQmZ3Q7CiAgICBPUF9DSEVDS1NFUVVFTkNFVkVSSUZZCiAgICBPUF9EUk9QCiAgICAmbHQ7anVyeV9wdWJrZXkmZ3Q7CiAgICBPUF9DSEVDS1NJRwpPUF9FTkRJRgoKLy8gTG9ja2luZyBzY3JpcHQKT1BfSEFTSDE2MAombHQ7MjAtYnl0ZSBoYXNoIG9mIFJlZGVlbSBTY3JpcHQmZ3Q7Ck9QX0VRVUFMCgovLyBVbmxvY2tpbmcgc2NyaXB0IC0gVW5sb2NrIHRyYW5zYWN0aW9uCiZsdDt0c3Nfc2lnbmF0dXJlJmd0OwombHQ7VFJVRSZndDsKJmx0O3JlZGVlbSBzY3JpcHQmZ3Q7CgovLyBVbmxvY2tpbmcgc2NyaXB0IC0gUmVmdW5kIHRyYW5zYWN0aW9uCiZsdDtqdXJ5X3NpZ25hdHVyZSZndDsKJmx0O0ZBTFNFJmd0OwombHQ7cmVkZWVtIHNjcmlwdCZndDsK"}}),e._v(" "),o("p",[e._v("As shown in the example, a Time Lock is added to the redeem script. If a "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" transaction exceeds the deposit_timeout, a refund transaction will initiate to transfer the assets to "),o("em",[e._v("ViteBridge Jury")]),e._v("'s account.\nIn order to get refund, the depositor should submit a support ticket and attach deposit proof. Jury will review the proof and return funds to the depositor.")]),e._v(" "),o("h3",{attrs:{id:"funds-collection"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#funds-collection"}},[e._v("#")]),e._v(" Funds Collection")]),e._v(" "),o("p",[e._v("If a multi-address deposit approach is adopted, the original assets will scatter in multiple accounts, and these funds need to be gathered regularly and aggregated into one account. This aggregate account is called "),o("em",[e._v("Vault Account")]),e._v(", which is generated by the Wallet Contract and is used to unlock funds while withdrawing.")]),e._v(" "),o("p",[e._v("The funds collection code is written in the Wallet Contract, and a reasonable policy should be set up according to the throughput and cost on the original blockchain. For example, in Bitcoin, it is reasonable to collect multiple funds by specifying multiple inputs in one transaction. We can also put this step in the "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" of withdrawal to save more transaction fees.")]),e._v(" "),o("p",[e._v("For each collection process, the Wallet Contract is required to generate and sign a original blockchain transaction, which is shortly broadcast to the original blockchain by relay nodes.")]),e._v(" "),o("p",[e._v("The funds collection process consumes a certain cost, which should be covered in cross-chain transfer fees.")]),e._v(" "),o("h3",{attrs:{id:"vault-handover"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#vault-handover"}},[e._v("#")]),e._v(" Vault Handover")]),e._v(" "),o("p",[e._v("Since the members of the consensus group change regularly, a new vault account must be generated from time to time. In this case, all the original assets that are locked in the previous vault should be transferred to the new vault.")]),e._v(" "),o("p",[e._v("By leveraging the asynchronous smart contract on Vite, we can monitor the "),o("code",[e._v("tssRegrouped")]),e._v(" message and deal with vault handover in the message listener. The pseudo-code is as follows:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"javascript",base64:"Y29udHJhY3QgV2FsbGV0IHsKICAgIHVpbnQgY3VycmVudEVwb2NoOwogICAgbWFwcGluZyhieXRlczMyID0mZ3Q7IFJlbW90ZUJsb2NrY2hhaW5UcmFuc2FjdGlvbikgdHJhbnNhY3Rpb25zVG9TaWduOwogICAgYWRkcmVzcyByZWxheUNvbnRyYWN0ID0gYWRkcmVzcygmcXVvdDt2aXRlXzAwMC4uLiZxdW90Oyk7CiAgICBtZXNzYWdlIHJlbGF5VHJhbnNhY3Rpb24odWludCBlcG9jaCwgUmVtb3RlQmxvY2tjaGFpblRyYW5zYWN0aW9uIHRyYW5zYWN0aW9uKTsKCiAgICAgLy8gTWVzc2FnZSBsaXN0ZW5lciBmb3IgdHNzUmVncm91cCBtZXNzYWdlcyB0cmlnZ2VyZWQgYnkgVFNTIGNvbnNlbnN1cyBncm91cAogICAgb25NZXNzYWdlIHRzc1JlZ3JvdXAodWludCBuZXh0RXBvY2gpIHsKICAgICAgICBpZiAobmV4dEVwb2NoICZndDsgY3VycmVudEVwb2NoKSB7CiAgICAgICAgICAgIC8vIGZldGNoIG5ldyBUU1MgcHVibGljIGtleSBvZiB0aGUgbmV4dCBlcG9jaAogICAgICAgICAgICBieXRlczMyIHRzc1B1YmtleSA9IHRzc19wdWJrZXkobmV4dEVwb2NoKTsKICAgICAgICAgICAgLy8gY3JlYXRlIHZhdWx0X2hhbmRvdmVyIHRyYW5zYWN0aW9uCiAgICAgICAgICAgIFJlbW90ZUJsb2NrY2hhaW5UcmFuc2FjdGlvbiB0eCA9IGNyZWF0ZVZhdWx0SGFuZG92ZXJUcmFuc2FjdGlvbih0c3NQdWJrZXkpOwogICAgICAgICAgICAvLyBwdXQgaW50byBtYXBwaW5nCiAgICAgICAgICAgIHRyYW5zYWN0aW9uc1RvU2lnblt0eC5pZF0gPSB0eDsKICAgICAgICAgICAgLy8gU2lnbiB2YXVsdF9oYW5kb3ZlciB0cmFuc2FjdGlvbiB3aXRoIHRoZSBwcml2YXRlIGtleXMgb2YgdGhlIHByZXZpb3VzIG1lbWJlcnMuCiAgICAgICAgICAgIC8vIFRoZSByZXN1bHQgY2FuIG5vdCBiZSByZXR1cm5lZCBpbW1lZGlhdGVseS4gSXQncyBhbiBhc3luY2hyb25vdXMgY2FsbC4KICAgICAgICAgICAgdHNzX3NpZ24odHguaWQsIHR4LCBjdXJyZW50RXBvY2gpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBNZXNzYWdlIGxpc3RlbmVyIGZvciB0c3NTaWduIG1lc3NhZ2VzIHRyaWdnZXJlZCBieSBUU1MgY29uc2Vuc3VzIGdyb3VwCiAgICBvbk1lc3NhZ2UgdHNzU2lnbmVkKHVpbnQzMiBlcG9jaCwgYnl0ZXMzMiBpZCwgYnl0ZXMzMiBzaWduYXR1cmUpIHsKICAgICAgICBSZW1vdGVCbG9ja2NoYWluVHJhbnNhY3Rpb24gdHggPSB0cmFuc2FjdGlvbnNUb1NpZ25baWRdOwogICAgICAgIHR4LnJhd1RyYW5zYWN0aW9uLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTsKICAgICAgICAvLyBub3RpZnkgUmVsYXlDb250cmFjdAogICAgICAgIHNlbmQocmVsYXlDb250cmFjdCwgcmVsYXlUcmFuc2FjdGlvbihlcG9jaCwgdHgpKTsKICAgIH0KfQo="}}),e._v(" "),o("h3",{attrs:{id:"funds-unlocking"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#funds-unlocking"}},[e._v("#")]),e._v(" Funds Unlocking")]),e._v(" "),o("p",[e._v("In order to unlock original assets, the Wallet contract generates a original blockchain transaction first, then call the Vite built-in signing function, such as "),o("code",[e._v("tss_sign_secp256k1()")]),e._v(", to sign the transaction.")]),e._v(" "),o("p",[e._v("Once the signature is returned, the relay node will broadcast the signed transaction to the original blockchain.")]),e._v(" "),o("p",[e._v("There is a side-effect for signing the original blockchain transaction. Once the code is executed, even if the contract state rolls back on Vite, the unlocking process is irreversible. It is highly recommended to wait until "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" has enough confirmations before executing the unlocking function.")]),e._v(" "),o("h3",{attrs:{id:"wallet-state-updating"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#wallet-state-updating"}},[e._v("#")]),e._v(" Wallet State Updating")]),e._v(" "),o("p",[e._v("Sometimes, offline wallets cannot be implemented for some original blockchains. So the Wallet contract must maintain a state in order to assemble original blockchain transactions.")]),e._v(" "),o("p",[e._v("For example, Nano requires a "),o("code",[e._v("previous_hash")]),e._v(" field for each transaction, and Ethereum needs a "),o("code",[e._v("gas_price")]),e._v(" field.")]),e._v(" "),o("p",[e._v("One solution is to let relay nodes pass the states to Wallet Contract. However, this requires that the state must be auditable. If a relay submits fake data, it will be punished economically.")]),e._v(" "),o("h2",{attrs:{id:"relays"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#relays"}},[e._v("#")]),e._v(" Relays")]),e._v(" "),o("p",[e._v("This protocol leverages a group of relays to report remote blockchain transactions to Vite. To achieve this, the relay should have access to the remote blockchain's ledger.")]),e._v(" "),o("p",[e._v("In the meantime, relays are also responsible for forwarding transactions signed on Vite to the remote blockchain.\nSince relays have the opportunity to abscond with assets on Vite by reporting fake transactions, they must bond collateral in order to get a grant to mint or unlock assets on Vite.\nFor each original asset, a separate group of relays is assigned, and each relay is required to bond a certain amount of the asset as collateral.\nIn return, relay is eligible to cross-chain transaction fees.")]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("Note")]),e._v(":")]),e._v(" "),o("p",[e._v("Different from other cross-chain transfer protocols, our protocol do not use "),o("em",[o("strong",[e._v("VITE")])]),e._v("(the native token on Vite) as collateral, but directly use the original assets.\nThis makes over-collateralization easier to achieve, so that the total value of backed asset on Vite is not limited by the market value of the "),o("em",[o("strong",[e._v("VITE")])]),e._v(" token.\nAt the same time, we avoid using Price Oracle or liquidation auctions to compensate users who suffered losses, in the end reducing the complexity of the protocol.")]),e._v(" "),o("p",[e._v("The key is that we introduce a decentralized wallet contract to provide safe custody for the original asset as collateral.")])]),e._v(" "),o("p",[e._v("Each remote blockchain has assigned a group of relay nodes. A relay node is an off-chain program that can access both the Vite's full node and the remote blockchain's full node through APIs.\nEach relay node has a Vite address. When the relay node calls the "),o("em",[e._v("Relay Contract")]),e._v(", a Vite transaction is initiated from this address.")]),e._v(" "),o("h3",{attrs:{id:"bridge-bootstrap"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#bridge-bootstrap"}},[e._v("#")]),e._v(" Bridge Bootstrap")]),e._v(" "),o("p",[e._v("Before the bridge of a new backed asset starts to work, it must go through the "),o("em",[e._v("bootstrap")]),e._v(" process. The relay jointed in the cold start phase is called "),o("em",[e._v("bootstrap relay")]),e._v(".")]),e._v(" "),o("p",[e._v("For this purpose, some configurations should be set in the Relay Contract:")]),e._v(" "),o("table",[o("thead",[o("tr",[o("th",[e._v("Configuration")]),e._v(" "),o("th",[e._v("Type")]),e._v(" "),o("th",[e._v("Description")]),e._v(" "),o("th",[e._v("Example")])])]),e._v(" "),o("tbody",[o("tr",[o("td",[e._v("origin_blockchain")]),e._v(" "),o("td",[o("code",[e._v("string")])]),e._v(" "),o("td",[e._v("Original blockchain name")]),e._v(" "),o("td",[e._v("Bitcoin")])]),e._v(" "),o("tr",[o("td",[e._v("host_blockchain")]),e._v(" "),o("td",[o("code",[e._v("string")])]),e._v(" "),o("td",[e._v("Host blockchain name")]),e._v(" "),o("td",[e._v("Vite")])]),e._v(" "),o("tr",[o("td",[e._v("original_asset")]),e._v(" "),o("td",[o("code",[e._v("string")])]),e._v(" "),o("td",[e._v("Original asset name")]),e._v(" "),o("td",[e._v("BTC")])]),e._v(" "),o("tr",[o("td",[e._v("backed_asset")]),e._v(" "),o("td",[o("code",[e._v("string")])]),e._v(" "),o("td",[e._v("Backed asset name")]),e._v(" "),o("td",[e._v("BTC-000")])]),e._v(" "),o("tr",[o("td",[e._v("min_relay_num")]),e._v(" "),o("td",[o("code",[e._v("uint")])]),e._v(" "),o("td",[e._v("Minimum relay number required for the bridge")]),e._v(" "),o("td",[e._v("3")])]),e._v(" "),o("tr",[o("td",[e._v("max_relay_num")]),e._v(" "),o("td",[o("code",[e._v("uint")])]),e._v(" "),o("td",[e._v("Maximum relay number allowed for the bridge")]),e._v(" "),o("td",[e._v("10")])]),e._v(" "),o("tr",[o("td",[e._v("relay_quorum")]),e._v(" "),o("td",[o("code",[e._v("uint")])]),e._v(" "),o("td",[e._v("Minimum relay number to approve a remote blockchain transaction")]),e._v(" "),o("td",[e._v("2")])]),e._v(" "),o("tr",[o("td",[e._v("min_collateral_amount")]),e._v(" "),o("td",[o("code",[e._v("uint")])]),e._v(" "),o("td",[e._v("Minimum collateral amount")]),e._v(" "),o("td",[e._v("10")])]),e._v(" "),o("tr",[o("td",[e._v("collateral_abort_delay")]),e._v(" "),o("td",[o("code",[e._v("uint")])]),e._v(" "),o("td",[e._v("Time delay (in Vite snapshot epoch, appromixately 75s) to refund collateral if a relay is about to quit during bootstrap")]),e._v(" "),o("td",[e._v("300")])]),e._v(" "),o("tr",[o("td",[e._v("collateral_unlock_delay")]),e._v(" "),o("td",[o("code",[e._v("uint")])]),e._v(" "),o("td",[e._v("Time delay (in Vite snapshot epoch, appromixately 75s) to refund unbonding collateral")]),e._v(" "),o("td",[e._v("300")])]),e._v(" "),o("tr",[o("td",[e._v("bootstrap_relay_bond_amount")]),e._v(" "),o("td",[o("code",[e._v("uint")])]),e._v(" "),o("td",[e._v("Additional bond (in VITE token) to become a bootstrap relay")]),e._v(" "),o("td",[e._v("10,000")])]),e._v(" "),o("tr",[o("td",[e._v("bond_unlock_delay")]),e._v(" "),o("td",[o("code",[e._v("uint")])]),e._v(" "),o("td",[e._v("Time delay (in Vite snapshot epoch, appromixately 75s) to unlock a bond")]),e._v(" "),o("td",[e._v("1152")])]),e._v(" "),o("tr",[o("td",[e._v("liquidate_delay")]),e._v(" "),o("td",[o("code",[e._v("uint")])]),e._v(" "),o("td",[e._v("Time delay (in Vite snapshot epoch, appromixately 75s) before liquidating")]),e._v(" "),o("td",[e._v("11520")])])])]),e._v(" "),o("p",[e._v("The bootstrap process is as follows:")]),e._v(" "),o("ul",[o("li",[e._v("The "),o("em",[e._v("bootstrap relay")]),e._v(" request a collateral address from the "),o("em",[e._v("Relay Contract")]),e._v(". When Vite is used as the host blockchain, the address is a remote blockchain address generated by the "),o("em",[e._v("Wallet Contract")]),e._v(", such as a Bitcoin address; when Vite is used as the original blockchain, the address is the Vite address of the "),o("em",[e._v("Relay Contract")]),e._v(".")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("bootstrap relay")]),e._v(" transfers the "),o("code",[e._v("min_collateral_amount")]),e._v(" of assets to the collateral address. For example, transfer 10 BTC to the Bitcoin address returned by the "),o("em",[e._v("Relay Contract")]),e._v(".")]),e._v(" "),o("li",[e._v("When the collateral transaction is confirmed, the "),o("em",[e._v("bootstrap relay")]),e._v(" calls the "),o("code",[e._v("setup()")]),e._v(" function of "),o("em",[e._v("Relay Contract")]),e._v(" to register itself with relay id, hash of collateral transaction, etc. According to the "),o("code",[e._v("bootstrap_relay_bond_amount")]),e._v(" specified in the bridge, the "),o("em",[e._v("bootstrap relay")]),e._v(" may also need to bond a certain amount of VITE token. This bonding is irrelevant to the collateral, but mainly to prevent the relay spam.")]),e._v(" "),o("li",[e._v("Before bootstrap is complete, relays already joined can abort by calling the "),o("code",[e._v("abort()")]),e._v(" function of the "),o("em",[e._v("Relay Contract")]),e._v(". The collateral will not refund until the time of "),o("code",[e._v("collateral_abort_delay")]),e._v(" expires. This is to prevent the protocol from being attacked by frequently joining and quitting of evil relays.")]),e._v(" "),o("li",[e._v("When the collateral is an asset on the remote blockchain, the "),o("em",[e._v("Relay Contract")]),e._v(" on Vite cannot verify whether the collateral is paid. Therefore, each relay needs to audit the collateral status of other relays. Since the collateral address of each relay is public, and the transactions on the remote blockchain are also public (for a private blockchain, proof of collateral needs to be provided in a particular way), bootstrap relays can audit each other.")]),e._v(" "),o("li",[e._v("If a "),o("em",[e._v("bootstrap relay")]),e._v(" is caught cheating, other relays can choose to abort by calling "),o("code",[e._v("abort()")]),e._v(", and(or) submit a challenge request to "),o("em",[e._v("ViteBridge Jury")]),e._v(".")]),e._v(" "),o("li",[e._v("When a sufficient number of bootstrap relays complete setup and pass peer audit, each relay must explicitly call the "),o("code",[e._v("bootstrap()")]),e._v(" function of the "),o("em",[e._v("Relay Contract")]),e._v(" to notify the system that it is ready.")]),e._v(" "),o("li",[e._v("When a "),o("code",[e._v("min_relay_num")]),e._v(" of bootstrap relays have called  "),o("code",[e._v("bootstrap()")]),e._v(", the "),o("em",[e._v("Relay Contract")]),e._v(" is activated. At this time, the bridge starts to work.")]),e._v(" "),o("li",[e._v("Bootstrap can only be performed once throughout the lifetime of a bridge. After bootstrap is complete, the joining and quitting of a relay will follow other rules.")])]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("Important")])]),e._v(" "),o("p",[e._v("Peer audit between bootstrap relays cannot sufficiently guarantee the bridge security since all bootstrap relays may collude or be in control by attackers.\nTherefore, it is necessary for users to inspect the relay's collateral before using a new bridge. Trusting a bridge in carelessness may result in asset losses.")]),e._v(" "),o("p",[e._v("This protocol assumes that the user is also a game player of the protocol and take the audit responsibility.\nAll data required for the audit are public. Moreover, visual tools can be used to improve audit efficiency.\nBesides users, "),o("em",[e._v("ViteBridge Jury")]),e._v(" will also share the audit responsibility.")])]),e._v(" "),o("h3",{attrs:{id:"remote-transaction-report"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#remote-transaction-report"}},[e._v("#")]),e._v(" Remote Transaction Report")]),e._v(" "),o("ul",[o("li",[e._v("Relay nodes need to keep monitoring the related addresses on the remote blockchain. After finding a new "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" or "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" transaction, the relay should report call the "),o("code",[e._v("report()")]),e._v(" function to report it "),o("strong",[e._v("dicovered")]),e._v(".")]),e._v(" "),o("li",[e._v("Relay nodes need to keep monitoring any unconfirmed cross-chain related transactions on the remote blockchain. When such a transaction is confirmed, the relay calls the "),o("code",[e._v("confirm()")]),e._v(" function to report it "),o("strong",[e._v("confirmed")]),e._v(".")]),e._v(" "),o("li",[e._v("In the "),o("em",[e._v("Relay Contract")]),e._v(", any "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" or "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" transaction should be confirmed by multiple relays. When the number of confirmed relays reaches "),o("code",[e._v("relay_quorum")]),e._v(", the transaction is marked as the "),o("strong",[e._v("confirmed")]),e._v(" state.")]),e._v(" "),o("li",[e._v("If the circulating supply of the backed asset does not reach the upper limit, the transaction will be "),o("strong",[e._v("approved")]),e._v(", and the contract will generate a "),o("em",[e._v("T"),o("sub",[e._v("mint")])]),e._v(" or "),o("em",[e._v("T"),o("sub",[e._v("unlock")])]),e._v(" transaction. At this time, for relays participating in approval, a number of "),o("code",[e._v("(transaction_amount / relay_quorum)")]),e._v(" collateral will be locked for the relay. If a relay's current unlocked collateral is less than "),o("code",[e._v("(transaction_amount / relay_quorum)")]),e._v(", it fails to participate in the approval.")]),e._v(" "),o("li",[e._v("If the circulating supply of the backed asset has reached the upper limit, the transaction will keep at the "),o("strong",[e._v("confirmed")]),e._v(" state, and the deposit cannot be credited until another user withdraws. Because withdrawal will lead to some backed assets being burned and decrease the circulating supply, the pending deposit can be processed.")]),e._v(" "),o("li",[e._v("Any locked collateral, if there is no dispute, will be unlocked after "),o("code",[e._v("bond_unlock_delay")]),e._v(" passes.")]),e._v(" "),o("li",[e._v("In a dispute, unlocking collateral must wait for the judgment of "),o("em",[e._v("ViteBridge Jury")]),e._v(", which finally determines whether the collateral can be unlocked or not.")]),e._v(" "),o("li",[e._v("The commission of relay is calculated based on the total number of participants in the approval. If a relay does not approve any transaction, it won't get the commission.")])]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("Important")])]),e._v(" "),o("p",[e._v("If all the relay's collaterals of a bridge are locked up, the bridge will suspend deposits because no backed assets can be minted due to insufficient reserve.\nAt this time, the bridge no longer accepts incoming deposits, and any request for a deposit address will fail.")]),e._v(" "),o("p",[e._v("If a user initiates a deposit transaction in this circumstance, the deposit will enter a dispute state, which should be resolved by "),o("em",[e._v("ViteBridge Jury")]),e._v(" later.")])]),e._v(" "),o("h3",{attrs:{id:"relay-registration"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#relay-registration"}},[e._v("#")]),e._v(" Relay Registration")]),e._v(" "),o("p",[e._v("This protocol is open to everyone. New relays can join freely by completing the following registration process:")]),e._v(" "),o("ul",[o("li",[e._v("To become a relay, one needs to bond a sufficient amount of collateral. Collateral is paid with "),o("strong",[e._v("backed assets")]),e._v(". He should initiate a cross-chain deposit through the current bridge first, then bonds the collateral with the backed assets obtained.")]),e._v(" "),o("li",[e._v("The relay calls the "),o("code",[e._v("register()")]),e._v(" function of the "),o("em",[e._v("Relay Contract")]),e._v(" to complete the registration. A "),o("code",[e._v("min_collateral_amount")]),e._v(" of the backed asset should be sent within the transaction.")]),e._v(" "),o("li",[e._v("If the number of relays in the bridge is less than "),o("code",[e._v("max_relay_num")]),e._v(", new relay registration can be accepted. After a new relay completes the registration process, the bonded collateral in back asset will be burned in the "),o("em",[e._v("Mint Contract")]),e._v(" and only the IOU of the collateral balance is kept in the "),o("em",[e._v("Relay Contract")]),e._v(".")]),e._v(" "),o("li",[e._v("If the number of relays in the bridge reaches "),o("code",[e._v("max_relay_num")]),e._v(", the registration request will fail, and bonded collateral will be returned.")])]),e._v(" "),o("h3",{attrs:{id:"relay-quit"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#relay-quit"}},[e._v("#")]),e._v(" Relay Quit")]),e._v(" "),o("p",[e._v("When a relay is about to quit, it needs to go through the following quitting process:")]),e._v(" "),o("ul",[o("li",[e._v("The relay calls the "),o("code",[e._v("quit()")]),e._v(" function of the "),o("em",[e._v("Relay Contract")]),e._v(" to initiate a "),o("em",[e._v("quit request")]),e._v(".")]),e._v(" "),o("li",[e._v("If the number of relays in the bridge is equal to "),o("code",[e._v("min_relay_num")]),e._v(", the quit request won't be accepted. All remaining relays can not quit unless new relays join, or going through the "),o("em",[e._v("liquidation process")]),e._v(".")]),e._v(" "),o("li",[e._v("If the number of relays in the bridge is more than "),o("code",[e._v("min_relay_num")]),e._v(", the quit request will be accepted. A quitting relay will no longer approve transactions, and the collateral will be returned after the specified time.")]),e._v(" "),o("li",[e._v("Relay's quit will reduce the circulating limit of the backed asset. If the existing circulating supply has exceeded the new upper limit, the bridge will no longer accept new deposits, but only accept withdrawals until the circulating supply drops below the limit.")]),e._v(" "),o("li",[e._v("The unlocked collateral of a quitting relay will be sent to the relay's address on the original blockchain after calling the "),o("code",[e._v("withdraw()")]),e._v(" function of the "),o("em",[e._v("Relay Contract")]),e._v(".")]),e._v(" "),o("li",[e._v("The collateral unlock waiting period is specified by "),o("code",[e._v("collateral_unlock_delay")]),e._v(".")]),e._v(" "),o("li",[e._v("The locked bond, if no dispute, will be unlocked after "),o("code",[e._v("(bond_unlock_delay + collateral_unlock_delay)")]),e._v(".")]),e._v(" "),o("li",[e._v("In a dispute, "),o("em",[e._v("ViteBridge Jury")]),e._v(" will judge whether the bond can be unlocked.")]),e._v(" "),o("li",[e._v("The collateral that was slashed for any reason will no longer be returned.")])]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("Important")])]),e._v(" "),o("p",[e._v("It is necessary to pay attention to any quitting relays. If a cheating behavior is observed in the past, anyone can submit a challenge request to the "),o("em",[e._v("Relay Contract")]),e._v(" to postpone the relay from getting the collateral back in time.")]),e._v(" "),o("p",[e._v("In this case, it takes a longer time for the relay to unlock collateral. Users and other relays will have enough time to withdraw ahead of the cheating relay.")])]),e._v(" "),o("h3",{attrs:{id:"bridge-liquidation"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#bridge-liquidation"}},[e._v("#")]),e._v(" Bridge Liquidation")]),e._v(" "),o("p",[e._v("If the number of relays in a bridge reduces to the lower limit, any relay's quit will cause the bridge to stop working. At this time, if a relay still wants to quit, it must go through the "),o("em",[e._v("liquidation process")]),e._v(":")]),e._v(" "),o("ul",[o("li",[e._v("When the remaining relays in the bridge reach "),o("code",[e._v("min_relay_num")]),e._v(", any relay that wants to quit can initiate a liquidation request by calling the "),o("code",[e._v("liquidate()")]),e._v(" function of the "),o("em",[e._v("Relay Contract")]),e._v(".")]),e._v(" "),o("li",[e._v("The bridge in liquidation process will no longer accept relay registrations and deposit requests. It only responds to withdrawal requests.")]),e._v(" "),o("li",[e._v("Starting from the liquidation request is initiated, the bridge will open a "),o("code",[e._v("liquidate_delay")]),e._v(" time window for all current users to withdraw.")]),e._v(" "),o("li",[e._v("After the withdrawal window is over, the collateral unlocking countdown starts for relays. The rest process is similar to relay quit.")]),e._v(" "),o("li",[e._v("After the liquidation is complete, the bridge enters the "),o("strong",[e._v("dismissed")]),e._v(" state.")])]),e._v(" "),o("h3",{attrs:{id:"bridge-bankruptcy"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#bridge-bankruptcy"}},[e._v("#")]),e._v(" Bridge Bankruptcy")]),e._v(" "),o("p",[e._v("A bridge may stop working under the following situations:")]),e._v(" "),o("ul",[o("li",[e._v("Original assets locked in the Wallet contract are "),o("strong",[e._v("lost")]),e._v(".")]),e._v(" "),o("li",[e._v("A confirmed original asset deposit transaction is "),o("strong",[e._v("rolled back")]),e._v(".")]),e._v(" "),o("li",[e._v("Fail to properly handle the "),o("strong",[e._v("hard fork")]),e._v(" of the original blockchain.")]),e._v(" "),o("li",[e._v("Relay "),o("strong",[e._v("fraud")]),e._v(" is not found in time.")])]),e._v(" "),o("p",[e._v("Once such situations occur, there is no guarantee that the backed asset can be fully redeemed. At this time, the bridge must go through the bankruptcy process:")]),e._v(" "),o("ul",[o("li",[e._v("The bankruptcy request can be initiated by "),o("em",[e._v("ViteBridge Jury")]),e._v(", or by a relay and reviewed by "),o("em",[e._v("ViteBridge Jury")]),e._v(".")]),e._v(" "),o("li",[e._v("After the bridge enters the "),o("strong",[e._v("bankrupting")]),e._v(" state, it should immediately disable deposit and withdrawal, and no longer accept relay registration or quit requests.")]),e._v(" "),o("li",[e._v("A bankrupt bridge needs to perform "),o("em",[e._v("Bankruptcy Liquidation")]),e._v(", which is similar to ordinary liquidation, but the main difference is that the bridge may already be insolvent at this time.")]),e._v(" "),o("li",[e._v("In the "),o("em",[e._v("bankruptcy liquidation process")]),e._v(", users who hold backed assets have a higher withdrawal priority than relays. "),o("em",[e._v("ViteBridge Jury")]),e._v(" needs to audit the process and specify two parameters "),o("code",[e._v("user_redeem_rate")]),e._v(" and "),o("code",[e._v("relay_redeem_rate")]),e._v(", indicating the numbers of original assets that can be redeemed for 1 unit of backed asset for users and relays.")]),e._v(" "),o("li",[e._v("Bankruptcy liquidation has two stages. In the first stage, users can request to withdraw assets at the rate of "),o("code",[e._v("1 : user_redeem_rate")]),e._v(".")]),e._v(" "),o("li",[e._v("In the second stage, each relay's available collateral is calculated, and the relay is allowed to withdraw collateral assets at the rate of "),o("code",[e._v("1 : relay_redeem_rate")]),e._v(".")]),e._v(" "),o("li",[e._v("After the bankruptcy liquidation is complete, the bridge enters the "),o("strong",[e._v("bankrupted")]),e._v(" state.")])]),e._v(" "),o("h2",{attrs:{id:"auxiliaries"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#auxiliaries"}},[e._v("#")]),e._v(" Auxiliaries")]),e._v(" "),o("p",[e._v("The design philosophy of this protocol is that although the relays cannot be prevented from doing evil in advance, all other participants can be aware of fraud and avoid loss in time.\nOnce a relay commits fraud, the protocol will provide an evacuation window for all backed asset holders and honest relays to quit first, and leave the evil relay to suffer asset loss.")]),e._v(" "),o("p",[e._v("In principle, it requires all the participants of the protocol, including ordinary users, to be cautious and keep monitoring the behavior of relays. However, this requirement will lead to bad user experiences.")]),e._v(" "),o("p",[e._v("Therefore, in order to provide a better user experience, we introduce some auxiliary mechanisms in the protocol to supervise relays for reducing the burden on users.")]),e._v(" "),o("h3",{attrs:{id:"vitebridge-jury"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#vitebridge-jury"}},[e._v("#")]),e._v(" ViteBridge Jury")]),e._v(" "),o("p",[e._v("We introduce a DAO to audit the financial situation of the bridge for users, supervise the behavior of relays, and arbitrate disputes. Such DAO is called "),o("em",[e._v("ViteBridge Jury")]),e._v(".\nThe DAO contains 11 members, who are selected through voting by VITE stakeholders.\n"),o("em",[e._v("ViteBridge Jury")]),e._v(" is controlled by the "),o("em",[e._v("Jury Contract")]),e._v(" deployed on Vite. The Jury members will call the "),o("em",[e._v("Jury Contract")]),e._v(" to perform their duties, and the judgment result will automatically take effect on chain.")]),e._v(" "),o("p",[e._v("A Jury member's main responsibility includes:")]),e._v(" "),o("ul",[o("li",[e._v("Audit the collateral rate of a new bridge on behalf of users. A quorum of 8 members needs to reach an agreement to approve the audit.")]),e._v(" "),o("li",[e._v("Solve dispute transactions. In this case, a quorum of 5 members needs to reach an agreement to approve or reject it.")]),e._v(" "),o("li",[e._v("Initiate a bridge bankruptcy request. This requires a quorum of 8 members.")]),e._v(" "),o("li",[e._v("Supervise the relay's behavior. Once fraud is found, the "),o("em",[e._v("Jury Contract")]),e._v(" can send an on-chain transaction to the "),o("em",[e._v("Relay Contract")]),e._v(" to suspend the bridge. This requires a quorum of 5 members.")])]),e._v(" "),o("h3",{attrs:{id:"watchdogs"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#watchdogs"}},[e._v("#")]),e._v(" Watchdogs")]),e._v(" "),o("p",[e._v("In order to speed up the fraud detection, we introduce a role called "),o("em",[e._v("Watchdog")]),e._v(" in the protocol. Watchdogs are special parties that monitor relay's behavior and bridge's financial situation for rewards. A report will be submitted to "),o("em",[e._v("ViteBridge Jury")]),e._v(" if Watchdog finds a problem.")]),e._v(" "),o("p",[e._v("Anyone can be a Watchdog and call the "),o("code",[e._v("inform()")]),e._v(" function of the "),o("em",[e._v("Jury Contract")]),e._v(" to report an issue, such as a fake remote blockchain transaction or an original collateral asset problem.")]),e._v(" "),o("p",[e._v("Each report must bond a small amount of VITE token. If the report is found malicious by "),o("em",[e._v("ViteBridge Jury")]),e._v(", the bond will be slashed.")]),e._v(" "),o("p",[e._v("If the report is confirmed valid by "),o("em",[e._v("ViteBridge Jury")]),e._v(", the first reporting Watchdog will be awarded a bonus. The bonus comes from the slashed collateral from a guilty party, such as a cheating relay.")]),e._v(" "),o("h2",{attrs:{id:"augmented-transaction-verification"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#augmented-transaction-verification"}},[e._v("#")]),e._v(" Augmented Transaction Verification")]),e._v(" "),o("p",[e._v("In pursuit of universality, the protocol does not make cryptographic verification mechanism essential. Instead, it relies on relays to give information cross blockchains, and the relay's honesty is guaranteed game theoretically.")]),e._v(" "),o("p",[e._v("However, for some blockchains with hard money, we can still embed cryptographic verifications in the bridge to enhance safty.")]),e._v(" "),o("p",[e._v("To achieve this, we define a hook function "),o("code",[e._v("function verifyTransaction(RemoteTransaction tx) returns(bool)")]),e._v(" in the "),o("em",[e._v("Relay Contract")]),e._v(". It returns a boolean value to represent the verification result.")]),e._v(" "),o("p",[e._v("This function is called after a remote blockchain transaction enters "),o("em",[e._v("approved")]),e._v(" state. If it returns false, the transaction enters the "),o("em",[e._v("failed")]),e._v(" state and will not execute the subsequent code to mint or unlock assets.")]),e._v(" "),o("p",[e._v("By default, this hook function simply returns "),o("code",[e._v("true")]),e._v(". If the remote blockchain is suitable for implementing a light client, this hook function should be overwrite to implement cryptographic verifications by light client.")]),e._v(" "),o("h2",{attrs:{id:"vite-as-original-blockchain"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#vite-as-original-blockchain"}},[e._v("#")]),e._v(" Vite as Original Blockchain")]),e._v(" "),o("p",[e._v("For ease of understanding, in the previous sections, we regard Vite as the host blockchain by default.\nIn fact, this protocol also supports to regard Vite as the original blockchain. In this case, the remote blockchains supporting asset issuance, such as Ethereum, is regard as the host blockchain.")]),e._v(" "),o("h3",{attrs:{id:"lock-transaction-verification-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#lock-transaction-verification-2"}},[e._v("#")]),e._v(" Lock Transaction Verification")]),e._v(" "),o("p",[e._v("How to verify that the "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v(" initiated by the depositor is confirmed on Vite?")]),e._v(" "),o("p",[e._v("Since the original asset is mapped to a reedmable token on Vite, a Vite smart contract can lock the backed asset and execute the subsequent code asynchronously after waiting for enough confirmations.")]),e._v(" "),o("h3",{attrs:{id:"mint-transaction-creation-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mint-transaction-creation-2"}},[e._v("#")]),e._v(" Mint Transaction Creation")]),e._v(" "),o("p",[e._v("How to generate a valid remote blockchain transaction "),o("em",[e._v("T"),o("sub",[e._v("mint")])]),e._v(" according to "),o("em",[e._v("T"),o("sub",[e._v("lock")])]),e._v("?")]),e._v(" "),o("p",[e._v("The "),o("em",[e._v("Wallet Contract")]),e._v(" on Vite will assemble and sign a remote blockchain transaction first, and then broadcast the signed transaction to the remote blockchain through relays. The smart contract deployed on the remote blockchain to control the backed asset needs to maintain the public key of the Vite TSS consensus group and verify the signature. After the verification is passed, the contract will mint backed assets on the remote blockchain.")]),e._v(" "),o("h3",{attrs:{id:"burn-transaction-verification-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#burn-transaction-verification-2"}},[e._v("#")]),e._v(" Burn Transaction Verification")]),e._v(" "),o("p",[e._v("How to verify that "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" is confirmed on the remote blockchain?")]),e._v(" "),o("p",[e._v("The backed asset is burned in the smart contract deployed on the remote blockchain. After "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v(" is confirmed, the relay is responsible for reporting to Vite. Similarly, bonding collateral is required for relay to prevent cheating.\nAt this time, the relay's collateral is an asset on Vite, such as BTC-000, which is locked in the Vite smart contract.")]),e._v(" "),o("h3",{attrs:{id:"unlock-transaction-creation-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#unlock-transaction-creation-2"}},[e._v("#")]),e._v(" Unlock Transaction Creation")]),e._v(" "),o("p",[e._v("How to generate a valid "),o("em",[e._v("T"),o("sub",[e._v("unlock")])]),e._v(" on Vite according to "),o("em",[e._v("T"),o("sub",[e._v("burn")])]),e._v("?")]),e._v(" "),o("p",[e._v("As a built-in functionality of Vite, a transaction "),o("em",[e._v("T"),o("sub",[e._v("unlock")])]),e._v(" can be triggered in a smart contract on Vite to unlock original assets.")]),e._v(" "),o("h2",{attrs:{id:"transfer-redirect"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#transfer-redirect"}},[e._v("#")]),e._v(" Transfer Redirect")]),e._v(" "),o("p",[e._v("In the above sections, we discussed how to transfer funds between a remote blockchain and Vite. Sometimes, users want to transfer assets from one remote blockchain to another, such as from Bitcoin to Ethereum.\nTo meet this demand, Vite can be used as a "),o("em",[o("strong",[e._v("relay blockchain")])]),e._v(" for cross-chain transfers between two remote blockchains, and the cross-chain transfer can go through without Vite accounts.")]),e._v(" "),o("p",[e._v("This type of transfer is called "),o("em",[e._v("Tranfer Redirect")]),e._v(".")]),e._v(" "),o("p",[e._v("Let's look at the workflow shown in the following figure, where a user wants to transfer BTC from Bitcoin to Ethereum.")]),e._v(" "),o("p",[o("img",{attrs:{src:a(549),alt:"alt Tranfer \bRedirect"}})]),e._v(" "),o("ol",[o("li",[e._v("Alice inputs an Ethereum address and requests a BTC deposit address from the "),o("em",[e._v("Bitcoin Wallet Contract")]),e._v(". Since Alice doesn't have a Vite address, the contract will construct a unique BTC address based on Alice's Ethereum address and return it.")]),e._v(" "),o("li",[e._v("Alice transfers 1 BTC to the deposit address.")]),e._v(" "),o("li",[e._v("The relay monitors the BTC deposit address. In this case, it finds a "),o("em",[e._v("Transfer Redirect")]),e._v(" transaction.")]),e._v(" "),o("li",[e._v("When the transaction is confirmed, the relay reports to the "),o("em",[e._v("Relay Contract")]),e._v(".")]),e._v(" "),o("li",[e._v("After the "),o("em",[e._v("Relay Contract")]),e._v(" receives enough reports from relay nodes, it locks the collateral bonding of the reporting relays and notifies the "),o("em",[e._v("Bitcoin Wallet Contract")]),e._v(".")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("Bitcoin Wallet Contract")]),e._v(" retrieves the beneficiary address on Ethereum according to the deposit address and notifies "),o("em",[e._v("BTC-000 Wallet Contract")]),e._v(" on Vite.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("BTC-000 Wallet Contract")]),e._v(" mints BTC-000 and locks it in the contract as a reserve for the BTC-000 backed asset "),o("strong",[e._v("vBTC")]),e._v(" on Ethereum.")]),e._v(" "),o("li",[e._v("When it is confirmed, the "),o("em",[e._v("BTC-000 Wallet Contract")]),e._v(" notifies the "),o("em",[e._v("Ethereum Wallet Contract")]),e._v(" to sign a vBTC mint transaction.")]),e._v(" "),o("li",[e._v("The relay forwards the signed vBTC mint transaction to Ethereum.")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("vBTC ERC20 Contract")]),e._v(" on Ethereum verifies the signature of the Vite TSS consensus group. After the verification is passed, an equivalent amount of vBTC will be minted and sent to Alice's Ethereum address.")])]),e._v(" "),o("h2",{attrs:{id:"economy"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#economy"}},[e._v("#")]),e._v(" Economy")]),e._v(" "),o("p",[e._v("A well-designed economic model can help improve the efficiency of the protocol and provide a good experience to user.\nBelow we briefly describe the concepts of the economic model but leave the details for future design.")]),e._v(" "),o("ul",[o("li",[e._v("The income of ViteBridge mainly comes from deposit and withdrawal fees. Generally speaking, users should pay for cross-chain transfers. However, if the fees are too high, it will harm the enthusiasm of the users, and finally, decrease the total income of the bridge.")]),e._v(" "),o("li",[e._v("More cross-chain transfers are beneficial to the ecosystem on Vite. In addition to fee income, all DApps that benefit from the cross-chain protocol, such as DEX, DeFi applications or payment applications, are encouraged to contribute to ViteBridge.")]),e._v(" "),o("li",[e._v("The fee of "),o("em",[e._v("Transfer Redirect")]),e._v(" should be higher than ordinary cross-chain transfers.")]),e._v(" "),o("li",[e._v("The income of ViteBridge is mainly used to incentivize relays, which, as required by the protocol, must bond collateral, run nodes, and usually take more risks than others.")]),e._v(" "),o("li",[o("em",[e._v("ViteBridge Jury")]),e._v(" also needs to be incentivized. Otherwise, it may not be faithful in performing the duties and causes a risk.")]),e._v(" "),o("li",[o("em",[e._v("Watchdogs")]),e._v(" need to be incentivized too in order to increase the probability of that cheating behaviors are detected in time. Honest Watchdogs will receive additional rewards, while a malicious one will be punished by bonding slash.")])]),e._v(" "),o("h2",{attrs:{id:"governance"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#governance"}},[e._v("#")]),e._v(" Governance")]),e._v(" "),o("p",[e._v("Compared with mature blockchains such as Bitcoin or Ethereum, the ledger structure and protocol of a new-emerged blockchain usually change more frequently.")]),e._v(" "),o("p",[e._v("Therefore, we need a decentralized governance approach to deal with possible changes.")]),e._v(" "),o("p",[e._v("The following issues need to be addressed in the governance approach:")]),e._v(" "),o("ul",[o("li",[e._v("How to update the consensus rules of the TSS consensus group and decide the threshold in TSS.")]),e._v(" "),o("li",[e._v("How to decide the bridge settings, such as "),o("code",[e._v("relay_quorum")]),e._v(", "),o("code",[e._v("min_collateral_amount")]),e._v(", etc.")]),e._v(" "),o("li",[e._v("How to upgrade the "),o("em",[e._v("Wallet Contract")]),e._v(" when the remote blockchain's protocol updates.")]),e._v(" "),o("li",[e._v("How to update the election rules and consensus rules of "),o("em",[e._v("ViteBridge Jury")]),e._v(".")])]),e._v(" "),o("p",[e._v("We are not going to answer the above questions here, but will explore them as an in-depth topic in the future.")]),e._v(" "),o("h2",{attrs:{id:"safety-and-liveness"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#safety-and-liveness"}},[e._v("#")]),e._v(" Safety and Liveness")]),e._v(" "),o("h3",{attrs:{id:"safety-threats"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#safety-threats"}},[e._v("#")]),e._v(" Safety Threats")]),e._v(" "),o("p",[e._v("The protocol may face the following security risks.")]),e._v(" "),o("ul",[o("li",[o("p",[o("strong",[e._v("TSS Consensus Group Conspiracy")]),e._v(". It is the highest safty threat. Assuming that the TSS consensus group is formed by Vite SBPs (Snapshot Block Producer), an attacker needs to control enough SBPs above the TSS threshold to exploit the attack. Since becoming an SBP requires staking of 1,000,000 VITE and adequate votes, it produces a high cost to manipulate the TSS consensus group. The asset value maintained in the "),o("em",[e._v("Wallet Contract")]),e._v(" may not cover, especially in the early stage of the bridge. So it is not profitable for attackers. Moreover, as the market value of VITE token increases, the cost will keep rising. On the other hand, we can also increase the staking requirement of the TSS consensus group in the future, making it even higher than becoming an SBP. At this time, it is even more difficult to manipulate the TSS consensus group than to manipulate the entire Vite blockchain.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Relay Fraud")]),e._v(". A relay may benefit from a fake report of remote transactions. For example, it may mint backed assets arbitrarily and send them to itself. The evil behavior is not stopped, but because the blockchain's ledger is public, and all relay's activities are tracked in the smart contract, this behaviors will be caught sooner or later. Before the relay has a chance to unlock its collateral, a challenger can freeze the funds in the smart contract by submitting a fraud report. In this case, other users have enough time to withdraw assets ahead of the cheater. This kind of attack can only be exploited by assuming that the cheating behavior is not discovered until the collateral is being unlocked. We recommend setting "),o("code",[e._v("collateral_unlock_delay")]),e._v(" and "),o("code",[e._v("bond_unlock_delay")]),e._v(" of the bridge long enough to prevent the fraud. In addition, the presence of "),o("em",[e._v("Watchdogs")]),e._v(" and "),o("em",[e._v("Jury")]),e._v(" will also help to mitigate this risk.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Sybil Attack by Relay")]),e._v(". An attacker can attempt to control a bridge by registering multiple relays. To prevent Sybil Attacks, the protocol requires that each relay must bond a collateral of at least "),o("code",[e._v("min_collateral_amount")]),e._v(". In this case, if a bridge is manipulated, the attacker will lose his collateral in exchange for backed assets, which have zero value if cannot be redeemed, and the original assets controlled by the "),o("em",[e._v("Wallet Contract")]),e._v(" won't be affected.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Eclipse Attack by Relay")]),e._v(". An attacker can block a relay's access to the full nodes of original blockchain and use fake data to deceive the relay. In this case, the relay is responsible for all the losses. Therefore, to prevent an eclipse attack, the relay should run a full node by itself or/and access several geographically distributed full nodes for one request.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Phishing Attack by Relay")]),e._v(". During the bootstrap phase of a bridge, a bootstrap relay may deceive users by providing fake proof of collateral. In this case, the relay is able to misappropriate the deposit funds since it did not bond collateral at all. To avoid it, a new bridge must be audited by "),o("em",[e._v("ViteBridge Jury")]),e._v(" before it starts service, and users also need to pay attention to unfamiliar bridges. In addition, a well-designed client application also helps reduce the risk of phishing.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Jury Conspiracy")]),e._v(". If Jury is manipulated or colludes, the dispute transaction will be judged in opposite result, and the user or relay will suffer the loss. In fact, the safty of the protocol is guaranteed by the game between the user and the relay. Jury only plays an assistant role. Users should not give up their inspection duty and simply choose to trust the Jury. If Jury fails to work, in order to avoid further loss, users should stop deposit and start withdrawal immediately, and relays should also stop confirming new transactions and start unlocking collaterals. Jury's fraud can be discovered by all the users, and a cheating Jury will be voted out.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Watchdog Malicious Report")]),e._v(". Watchdog may send spam reports to interfere with Jury's work. It is similar to a DDoS attack. Since Watchdog needs to bond VITE token for each report, a spam report will finally cause a bonding slash.")])])]),e._v(" "),o("h3",{attrs:{id:"liveness-threats"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#liveness-threats"}},[e._v("#")]),e._v(" Liveness Threats")]),e._v(" "),o("p",[e._v("The protocol's liveness could be impacted by the following risks.")]),e._v(" "),o("ul",[o("li",[o("p",[o("strong",[e._v("TSS Consensus Group Neglect")]),e._v(". If several nodes in the TSS consensus group do not respond to a signing request, the request will fail due to unsatisfied threshold for signature. At this time, the user's withdrawal may not credit for a long time. More seriously, after the consensus group changes, the original assets locked in the previous vault may not be handed over to the new vault timely, even could never unlock. In this case, the non-responding nodes must be punished by a staking slash. A low-uptime node should also be voted out to increase liveness.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Relay Neglect")]),e._v(". If enough relays are not fulfilling the responsibility, a transaction on the remote blockchain may never be reported on time. In this case, the user's deposit may not credit. To avoid this situation, we need to make sure the non-reacting relay won't get fees income, in addition, if the user finds that the deposit does not credit, he can submit a challenge to Jury, and the relay will be punished for neglect of duty.")])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("Jury Neglect")]),e._v(". If Jury neglects to fulfill its duty, a dispute may not be solved for a long time. As a consequence, either the user or the relay will suffer the losses. In this circumstance, the neglect Jury will be voted out by users and its collateral will be slashed as a penalty.")])])]),e._v(" "),o("h2",{attrs:{id:"use-cases"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#use-cases"}},[e._v("#")]),e._v(" Use Cases")]),e._v(" "),o("h3",{attrs:{id:"instant-cross-chain-transfer"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#instant-cross-chain-transfer"}},[e._v("#")]),e._v(" Instant Cross-Chain Transfer")]),e._v(" "),o("p",[e._v("Users can implement cross-chain transfers from one remote blockchain to another via ViteBridge's Transfer Redirect functionality.")]),e._v(" "),o("p",[e._v("For example, If Alice has 1 BTC and wants to transfer it from Bitcoin to Ethereum, she can take the following steps:")]),e._v(" "),o("ul",[o("li",[e._v("Alice opens the website of ViteBridge, navigates to the Instant Transfer page, respectively selects Bitcoin, BTC, Ethereum in the from-list, asset list, and to-list.")]),e._v(" "),o("li",[e._v("Alice fills in her Ethereum address. At this time, ViteBridge displays a Bitcoin deposit address for her.")]),e._v(" "),o("li",[e._v("Alice transfers 1 BTC to the deposit address.")]),e._v(" "),o("li",[e._v("Alice receives a 0.995 vBTC ERC20 token on Ethereum (assuming a 0.5% commission is charged).")])]),e._v(" "),o("h3",{attrs:{id:"cross-chain-defi-borrowing"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cross-chain-defi-borrowing"}},[e._v("#")]),e._v(" Cross-Chain DeFi (Borrowing)")]),e._v(" "),o("p",[e._v("Alice has 1,000 DOT. She needs some USDT to pay the rent, while she doesn't want to sell her DOT at the moment.")]),e._v(" "),o("ul",[o("li",[e._v("Alice opens the website of ViteBridge, navigates to the Instant Transfer page, respectively selects Polkadot, DOT, Ethereum in the from-list, asset list, and to-list.")]),e._v(" "),o("li",[e._v("Alice fills in her Ethereum address. At this time, ViteBridge displays a Polkadot deposit address for her.")]),e._v(" "),o("li",[e._v("Alice transfers 1,000 DOT to the deposit address.")]),e._v(" "),o("li",[e._v("Alice receives a 995 vDOT ERC20 token on Ethereum (assuming a 0.5% commission is charged).")]),e._v(" "),o("li",[e._v("Alice saves the 995 vDOT on Compound and borrows 10,000 USDT.")])]),e._v(" "),o("h3",{attrs:{id:"cross-chain-dex"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cross-chain-dex"}},[e._v("#")]),e._v(" Cross-Chain DEX")]),e._v(" "),o("ul",[o("li",[e._v("Alice opens the ViteX(DEX on Vite) website, navigates to the Deposit page, then selects BTC. At this time, a Bitcoin deposit address is displayed.")]),e._v(" "),o("li",[e._v("Alice transfers 1 BTC to the deposit address.")]),e._v(" "),o("li",[e._v("After the transfer is confirmed, Alice gets 1 BTC-000 in her ViteX account.")]),e._v(" "),o("li",[e._v("Alice places an order to trade 1 BTC-000 into 30 ETH-000. After the order is filled, 30 ETH-000 will be credited into Alice's ViteX account.")]),e._v(" "),o("li",[e._v("Alice opens the ViteX Withdraw page, selects ETH, fills in her Ethereum address, and submits a withdrawal request of 30 ETH.")]),e._v(" "),o("li",[e._v("30 ETH-000 is deducted from Alice's ViteX account.")]),e._v(" "),o("li",[e._v("After the withdrawal transaction is confirmed, Alice receives 29.99 ETH in her Ethereum address (assuming that a commission of 0.01 ETH is charged).")])]),e._v(" "),o("h3",{attrs:{id:"stable-coin-cross-chain-exchange"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#stable-coin-cross-chain-exchange"}},[e._v("#")]),e._v(" Stable Coin Cross-Chain Exchange")]),e._v(" "),o("p",[e._v("A stable coin can be issued on multiple different blockchains. For example, USDT was issued on Omni, Ethereum, EOS, Tron, Algorand, Liquid Network, Bitcoin Cash, and Solana. ViteBridge can provide users with cross-chain exchange of stable coins in a trustless way.")]),e._v(" "),o("ul",[o("li",[e._v("Alice opens the website of ViteBridge, navigates to the Stable Coin Exchange page, chooses stable coin assets, selects Tron as the transfer-out blockchain, and Ethereum as the transfer-in blockchain.")]),e._v(" "),o("li",[e._v("Alice fills in her Ethereum address. At this time, ViteBridge displays a Tron address for her.")]),e._v(" "),o("li",[e._v("Alice transfers 1000 USDT-TRC20 to the Tron address.")]),e._v(" "),o("li",[e._v("After the transaction is confirmed, ViteBridge will mint 1,000 USDT-TRC20-000 and transfer it to the "),o("em",[e._v("InstantExchange Contract")]),e._v(".")]),e._v(" "),o("li",[e._v("The "),o("em",[e._v("InstantExchange Contract")]),e._v(" calls the "),o("em",[e._v("ViteX Contract")]),e._v(" to submit an order of which the time-in-force type is FOK (Fill or Kill). The order trades 1000 USDT-TRC20-000 for USDT-ERC20-000.")]),e._v(" "),o("li",[e._v("If the order is not fully filled, the "),o("em",[e._v("InstantExchange Contract")]),e._v(" will withdraw 1000 USDT-TRC20-000 back to the deposit address, and Alice will receive a refund of 1000 USDT-TRC20 in her Tron address.")]),e._v(" "),o("li",[e._v("If the order is fully filled, Alice receives 995 USDT-ERC20 on Ethereum (assuming a 0.5% commission is charged).")])]),e._v(" "),o("h3",{attrs:{id:"payment"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#payment"}},[e._v("#")]),e._v(" Payment")]),e._v(" "),o("ul",[o("li",[e._v("Alice transfers 100 USDT to Vite and receives 100 USDT-000.")]),e._v(" "),o("li",[e._v("Using VitePay, Alice pays 10 USDT-000 to merchant Bob on the Vite blockchain to buy a pizza. The transaction is confirmed within a few seconds with no transaction fee.")]),e._v(" "),o("li",[e._v("Alice pays 1 USDT-000 to merchant Charlie on the Vite blockchain to buy a juice. It has no transaction fee too.")]),e._v(" "),o("li",[e._v("Bob accepts 200 payments through VitePay at the end of this day, a total of 2,000 USDT-000. He transfers the money to his Ethereum address through a cross-chain transaction. In this case, he only pays commission fee for one transfer.")]),e._v(" "),o("li",[e._v("Through VitePay, Charlie pays the USDT-000 received in the day to the juice supplier at night.")])]),e._v(" "),o("p",[e._v("In the above payment scenario, through transferring Ethereum-based USDT to the Vite blockchain, Alice, Bob, and Charlie have saved many transaction fees while benefiting from the featured instant costless payment on Vite.")]),e._v(" "),o("h3",{attrs:{id:"cryptocurrency-custody"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cryptocurrency-custody"}},[e._v("#")]),e._v(" Cryptocurrency Custody")]),e._v(" "),o("p",[e._v("Alice plans to establish a centralized crypto exchange called AliceX, to provide trading services for digital assets on many blockchains. After consulting with a third-party custody, she finds that the custody fee is too high for her, and only a small number of blockchains with high market value are supported.\nIf she chooses to develop the custodial system by herself, the cost of development and maintenance is still expensive, not to mention the challenge of security risks.")]),e._v(" "),o("p",[e._v("After thoughtful consideration, Alice decides to use ViteBridge to implement a multi-chain custody.")]),e._v(" "),o("ul",[o("li",[e._v("Alice deploys a smart contract AlicexCustodian on Vite and designates a Vite address as the owner.")]),e._v(" "),o("li",[e._v("Alice uses her private key to generate a separate Vite address for each user, and keeps the mapping between Account ID and Vite address in the database.")]),e._v(" "),o("li",[e._v("User Bob requests his deposit address on the AliceX website. At this point, AliceX requests a DirectTransfer deposit address at ViteBridge. The deposit beneficiary is the AlicexCustodian contract, and the data field fills in Bob’s Account ID.")]),e._v(" "),o("li",[e._v("Bob transfers 1 BTC to the deposit address.")]),e._v(" "),o("li",[e._v("AliceX detects that the AlicexCustodian contract has received a transfer of 1 BTC-000, and then adds 1 BTC to Bob’s account in the exchange according to the Account ID in the data field.")]),e._v(" "),o("li",[e._v("Another user, Charlie, is preparing to withdraw 1,000 USDT at AliceX. He fills in his Ethereum address.")]),e._v(" "),o("li",[e._v("AliceX deducts 1,000 USDT from Charlie's account, signs a Vite transaction with the owner's private key, and sends it to the AlicexCustodian contract with Charlie's Ethereum address.")]),e._v(" "),o("li",[e._v("The AlicexCustodian contract sends an Ethereum withdrawal transaction through ViteBridge.")]),e._v(" "),o("li",[e._v("Charlie received 9,995 USDT in his Ethereum address (assuming 5 USDT commission is charged)")])]),e._v(" "),o("p",[e._v('In this scenario, Alice only needs to maintain a service with Vite, and rely on ViteBridge to complete the communication to other blockchains.\nMore importantly, this custodial service is decentralized, and Alice does not have to trust any "middle man" who could take advantage of the opportunity to misappropriate assets. Alice can also implement hot/cold asset management through optimized authorizations in AlicexCustodian.\nIn addition, through the AlicexCustodian contract on Vite, Alice can easily complete PoR (Proof of Reserve), so as to grant the users with more confidence.')]),e._v(" "),o("h3",{attrs:{id:"exchange-listing"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#exchange-listing"}},[e._v("#")]),e._v(" Exchange Listing")]),e._v(" "),o("p",[e._v("In this scenario, Alice operates a blockchain project called Alichain, and she hopes to list Alichain's assets on some centralized exchanges.\nHowever, centralized exchanges often prefer listing ERC20 tokens since listing a native coin of Alichain will consume more development costs, while a DEX can only list assets issued on the same blockchain and cannot support Alichain.\nAlice finally solves the problem by using ViteBridge.")]),e._v(" "),o("ul",[o("li",[e._v("Alice works with the Alichain's community to complete the integration with ViteBridge.")]),e._v(" "),o("li",[e._v("Alice contacts Bittrex, Kucoin, Upbit, and lists Alichain's Ethereum backed token vAlichain-ERC20.")]),e._v(" "),o("li",[e._v("Alice adds vAlichain/ETH pair on Uniswap.")]),e._v(" "),o("li",[e._v("Alice adds vAlichain-Polkadot/DOT pair on Polkaswap.")]),e._v(" "),o("li",[e._v("Alice lists vAlichain-BEP2/BNB pair on Binance DEX.")])])],1)}),[],!1,null,null,null);t.default=i.exports}}]);