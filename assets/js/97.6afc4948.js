(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{690:function(t,a,e){"use strict";e.r(a);var c=e(1),s=Object(c.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"contract"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract"}},[t._v("#")]),t._v(" Contract")]),t._v(" "),e("h2",{attrs:{id:"create-contract"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-contract"}},[t._v("#")]),t._v(" Create Contract")]),t._v(" "),e("p",[t._v("Essentially, creating contract is sending a special transaction whose transaction type is 1 with contract's code and specified parameters. It has the following steps.")]),t._v(" "),e("ol",[e("li",[t._v("Call RPC method "),e("code",[t._v("contract_getCreateContractToAddress")]),t._v(" to generate a new contract address")]),t._v(" "),e("li",[t._v("Encode passed-in parameters according to ABI. This step can be completed by calling either "),e("code",[t._v("abi.encodeParameters")]),t._v(" in "),e("strong",[t._v("vite.js")]),t._v(", or "),e("code",[t._v("contract_getCreateContractParams")]),t._v(" in RPC")]),t._v(" "),e("li",[t._v("Call RPC method "),e("code",[t._v("contract_getCreateContractData")]),t._v(" to generate transaction data")]),t._v(" "),e("li",[t._v("Call RPC method "),e("code",[t._v("tx_sendRawTx")]),t._v(" to create contract. Here parameter "),e("code",[t._v("toAddress")]),t._v(" is the contract address generated in Step 1. "),e("code",[t._v("data")]),t._v(" is transaction data created in Step 3. "),e("code",[t._v("blockType")]),t._v(" is set to 1, indicating creating contract transaction. "),e("code",[t._v("amount")]),t._v(" and "),e("code",[t._v("tokenId")]),t._v(" stand for the amount of token that are transferred to the contract during creation. "),e("code",[t._v("fee")]),t._v(" is the cost, currently 10 VITE in the Mainnet.")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Tips")]),t._v(" "),e("p",[t._v("Above steps are implemented in method "),e("code",[t._v("builtinTxBlock.createContract")]),t._v(" in "),e("strong",[t._v("vite.js")])])]),t._v(" "),e("h2",{attrs:{id:"call-contract"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#call-contract"}},[t._v("#")]),t._v(" Call Contract")]),t._v(" "),e("p",[t._v("Essentially, calling contract is sending a special transaction to smart contract's account, specifying calling method name and parameters.")]),t._v(" "),e("ol",[e("li",[t._v("Encode method name and passed-in parameters according to ABI. This step can be completed by calling either "),e("code",[t._v("abi.encodeFunctionCall")]),t._v(" method in "),e("strong",[t._v("vite.js")]),t._v(" (recommended), or "),e("code",[t._v("contract_getCallContractData")]),t._v(" in RPC")]),t._v(" "),e("li",[t._v("Call RPC method "),e("code",[t._v("tx_sendRawTx")]),t._v(" to send a transaction to contract. Here parameter "),e("code",[t._v("toAddress")]),t._v(" is the contract address. "),e("code",[t._v("data")]),t._v(" is transaction data created in Step 1. "),e("code",[t._v("blockType")]),t._v(" is set to 2 for calling contract. "),e("code",[t._v("amount")]),t._v(" and "),e("code",[t._v("tokenId")]),t._v(" stand for the amount of token that are transferred to the contract. "),e("code",[t._v("fee")]),t._v(" is 0, standing for free.")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Tips")]),t._v(" "),e("p",[t._v("Above steps are implemented in method "),e("code",[t._v("builtinTxBlock.callContract")]),t._v(" in "),e("strong",[t._v("vite.js")])])]),t._v(" "),e("h2",{attrs:{id:"read-states-off-chain"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#read-states-off-chain"}},[t._v("#")]),t._v(" Read States Off-chain")]),t._v(" "),e("p",[t._v("Contract's states can be accessed off-chain through "),e("code",[t._v("getter")]),t._v(" methods. The ABI definition of "),e("code",[t._v("getter")]),t._v(" and off-chain code are generated when the contract is compiled.")]),t._v(" "),e("ol",[e("li",[t._v("Encode "),e("code",[t._v("getter")]),t._v(" method name and passed-in parameters according to ABI. This step can be completed by calling either "),e("code",[t._v("abi.encodeFunctionCall")]),t._v(" method in "),e("strong",[t._v("vite.js")]),t._v(" (recommended), or "),e("code",[t._v("contract_getCallOffChainData")]),t._v(" in RPC")]),t._v(" "),e("li",[t._v("Call RPC method "),e("code",[t._v("contract_callOffChainMethod")]),t._v(" to visit contract's state")])]),t._v(" "),e("h2",{attrs:{id:"call-built-in-contract"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#call-built-in-contract"}},[t._v("#")]),t._v(" Call Built-in Contract")]),t._v(" "),e("p",[t._v("Similar to calling common contract, calling built-in contract is sending a special transaction to built-in contract's account, specifying calling method name and parameters.\nVite has implemented "),e("RouterLink",{attrs:{to:"/api/rpcv1/pledge.html"}},[t._v("Staking")]),t._v(", "),e("RouterLink",{attrs:{to:"/api/rpcv1/mintage.html"}},[t._v("Token Issuance")]),t._v(" and "),e("RouterLink",{attrs:{to:"/api/rpcv1/consensus.html"}},[t._v("Consensus")]),t._v(" 3 built-in smart contracts.")],1),t._v(" "),e("ol",[e("li",[t._v("Generate transaction data by calling relevant "),e("code",[t._v("xxx_getxxxData")]),t._v(" RPC method. For example, call "),e("code",[t._v("mintage_getMintData")]),t._v(" when issuing new token.")]),t._v(" "),e("li",[t._v("Call RPC method "),e("code",[t._v("tx_sendRawTx")]),t._v(" to send the transaction to built-in contract.")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Tips")]),t._v(" "),e("p",[t._v("Most methods of built-in contracts are provided in "),e("code",[t._v("builtinTxBlock")]),t._v(" in "),e("strong",[t._v("vite.js")])])]),t._v(" "),e("h2",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),e("h2",{attrs:{id:"contract-getcreatecontracttoaddress"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract-getcreatecontracttoaddress"}},[t._v("#")]),t._v(" contract_getCreateContractToAddress")]),t._v(" "),e("p",[t._v("Return a new address for contract")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Parameters")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Address")]),t._v(": The address of requester")]),t._v(" "),e("li",[e("code",[t._v("uint64")]),t._v(": Current account block height")]),t._v(" "),e("li",[e("code",[t._v("Hash")]),t._v(": The hash of previous account block")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Returns")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Address")]),t._v(" New contract address")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Example")]),t._v(":")])])]),t._v(" "),e("code-group",[e("code-block",{attrs:{title:"Request"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"eyAgCiAgICZxdW90O2pzb25ycGMmcXVvdDs6JnF1b3Q7Mi4wJnF1b3Q7LAogICAmcXVvdDtpZCZxdW90OzoxLAogICAmcXVvdDttZXRob2QmcXVvdDs6JnF1b3Q7Y29udHJhY3RfZ2V0Q3JlYXRlQ29udHJhY3RUb0FkZHJlc3MmcXVvdDssCiAgICZxdW90O3BhcmFtcyZxdW90OzpbCiAgICAgICZxdW90O3ZpdGVfYTVhN2YwODAxMWMyZjBlNDBjY2Q0MWI1Yjc5YWZiZmI4MThkNTY1ZjU2NjAwMmQzYzYmcXVvdDssIAogICAgICAmcXVvdDsyJnF1b3Q7LCAKICAgICAgJnF1b3Q7M2E1NmJhYmViMGE4MTQwYjEyYWM1NWU5MWQyZTA1YzQxZjkwOGViZTk5NzY3YjBlNGFhNWNkN2FmMjJkNmRlNyZxdW90OywgCiAgICAgICZxdW90OzNhNTZiYWJlYjBhODE0MGIxMmFjNTVlOTFkMmUwNWM0MWY5MDhlYmU5OTc2N2IwZTRhYTVjZDdhZjIyZDZkZTcmcXVvdDtdCn0K"}})],1),t._v(" "),e("code-block",{attrs:{title:"Response"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"eyAgCiAgICZxdW90O2pzb25ycGMmcXVvdDs6JnF1b3Q7Mi4wJnF1b3Q7LAogICAmcXVvdDtpZCZxdW90OzoxLAogICAmcXVvdDtyZXN1bHQmcXVvdDs6ICZxdW90O3ZpdGVfMjJmNGYxOTViNmIwZjg5OWVhMjYzMjQxYTM3N2RiY2I4NmJlZmI4MDc1ZjkzZWVhYzgmcXVvdDsKfQo="}})],1)],1),e("h2",{attrs:{id:"contract-getcreatecontractparams"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract-getcreatecontractparams"}},[t._v("#")]),t._v(" contract_getCreateContractParams")]),t._v(" "),e("p",[t._v("Encode passed-in parameters for creating contract")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Parameters")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("string")]),t._v(": Contract's ABI definition")]),t._v(" "),e("li",[e("code",[t._v("[]string")]),t._v(": Passed-in parameters. Element is either a string for simple type or JSON string for complex")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Returns")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("[]byte")]),t._v(" Data")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Example")]),t._v(":")])])]),t._v(" "),e("code-group",[e("code-block",{attrs:{title:"Request"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICAgJnF1b3Q7anNvbnJwYyZxdW90OzogJnF1b3Q7Mi4wJnF1b3Q7LAogICAgJnF1b3Q7aWQmcXVvdDs6IDEsCiAgICAmcXVvdDttZXRob2QmcXVvdDs6ICZxdW90O2NvbnRyYWN0X2dldENyZWF0ZUNvbnRyYWN0UGFyYW1zJnF1b3Q7LAogICAgJnF1b3Q7cGFyYW1zJnF1b3Q7OiBbCiAgICAgICAgJnF1b3Q7W3tcJnF1b3Q7Y29uc3RhbnRcJnF1b3Q7OmZhbHNlLFwmcXVvdDtpbnB1dHNcJnF1b3Q7Olt7XCZxdW90O25hbWVcJnF1b3Q7OlwmcXVvdDt2b3RlclwmcXVvdDssXCZxdW90O3R5cGVcJnF1b3Q7OlwmcXVvdDthZGRyZXNzXCZxdW90O31dLFwmcXVvdDtuYW1lXCZxdW90OzpcJnF1b3Q7YXV0aG9yaXphdGlvblwmcXVvdDssXCZxdW90O291dHB1dHNcJnF1b3Q7OltdLFwmcXVvdDtwYXlhYmxlXCZxdW90OzpmYWxzZSxcJnF1b3Q7c3RhdGVNdXRhYmlsaXR5XCZxdW90OzpcJnF1b3Q7bm9ucGF5YWJsZVwmcXVvdDssXCZxdW90O3R5cGVcJnF1b3Q7OlwmcXVvdDtmdW5jdGlvblwmcXVvdDt9LHtcJnF1b3Q7Y29uc3RhbnRcJnF1b3Q7OmZhbHNlLFwmcXVvdDtpbnB1dHNcJnF1b3Q7Olt7XCZxdW90O25hbWVcJnF1b3Q7OlwmcXVvdDtwcm9wb3NhbFwmcXVvdDssXCZxdW90O3R5cGVcJnF1b3Q7OlwmcXVvdDt1aW50MjU2XCZxdW90O31dLFwmcXVvdDtuYW1lXCZxdW90OzpcJnF1b3Q7dm90ZVwmcXVvdDssXCZxdW90O291dHB1dHNcJnF1b3Q7OltdLFwmcXVvdDtwYXlhYmxlXCZxdW90OzpmYWxzZSxcJnF1b3Q7c3RhdGVNdXRhYmlsaXR5XCZxdW90OzpcJnF1b3Q7bm9ucGF5YWJsZVwmcXVvdDssXCZxdW90O3R5cGVcJnF1b3Q7OlwmcXVvdDtmdW5jdGlvblwmcXVvdDt9LHtcJnF1b3Q7aW5wdXRzXCZxdW90Ozpbe1wmcXVvdDtuYW1lXCZxdW90OzpcJnF1b3Q7cHJvcG9zYWxOYW1lc1wmcXVvdDssXCZxdW90O3R5cGVcJnF1b3Q7OlwmcXVvdDt1aW50MjU2W11cJnF1b3Q7fV0sXCZxdW90O3BheWFibGVcJnF1b3Q7OmZhbHNlLFwmcXVvdDtzdGF0ZU11dGFiaWxpdHlcJnF1b3Q7OlwmcXVvdDtub25wYXlhYmxlXCZxdW90OyxcJnF1b3Q7dHlwZVwmcXVvdDs6XCZxdW90O2NvbnN0cnVjdG9yXCZxdW90O31dJnF1b3Q7LAogICAgICAgIFsmcXVvdDtbXCZxdW90OzB4MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMVwmcXVvdDssXCZxdW90OzB4MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMlwmcXVvdDtdJnF1b3Q7XQogICAgXQp9Cg=="}})],1)],1),e("h2",{attrs:{id:"contract-getcreatecontractdata"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract-getcreatecontractdata"}},[t._v("#")]),t._v(" contract_getCreateContractData")]),t._v(" "),e("p",[t._v("Generate request data for creating contract")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Parameters")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("gid")]),t._v(":"),e("code",[t._v("Gid")]),t._v(': The id of delegated consensus group. A contract must assign a consensus group to have contract transaction executed. For example, global delegated consensus group has id "00000000000000000002"')]),t._v(" "),e("li",[e("code",[t._v("confirmTime")]),t._v(":"),e("code",[t._v("uint8")]),t._v(": The number of snapshot blocks (between 0-75) by which request sent to this contract is confirmed before responding to the transaction. 0 stands for no additional confirmation required. This parameter must be positive if random number, timestamp or snapshot block height is used in the contract. If "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[e("semantics",[e("mrow",[e("mi",[t._v("c")]),e("mi",[t._v("o")]),e("mi",[t._v("n")]),e("mi",[t._v("f")]),e("mi",[t._v("i")]),e("mi",[t._v("r")]),e("mi",[t._v("m")]),e("mi",[t._v("T")]),e("mi",[t._v("i")]),e("mi",[t._v("m")]),e("mi",[t._v("e")]),e("mo",[t._v(">")]),e("mn",[t._v("0")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("confirmTime>0")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"base"},[e("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"mord mathnormal"},[t._v("c")]),e("span",{staticClass:"mord mathnormal"},[t._v("o")]),e("span",{staticClass:"mord mathnormal"},[t._v("n")]),e("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mord mathnormal"},[t._v("i")]),e("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),e("span",{staticClass:"mord mathnormal"},[t._v("m")]),e("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),e("span",{staticClass:"mord mathnormal"},[t._v("i")]),e("span",{staticClass:"mord mathnormal"},[t._v("m")]),e("span",{staticClass:"mord mathnormal"},[t._v("e")]),e("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),e("span",{staticClass:"mrel"},[t._v(">")]),e("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),e("span",{staticClass:"base"},[e("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),e("span",{staticClass:"mord"},[t._v("0")])])])]),t._v(", additional quota will be consumed for response")]),t._v(" "),e("li",[e("code",[t._v("seedCount")]),t._v(":"),e("code",[t._v("uint8")]),t._v(": The number of snapshot blocks (between 0-75) having random seed by which request sent to this contract is confirmed before responding to the transaction. 0 stands for no additional confirmation required. This parameter must be positive if random number is used in the contract. Having "),e("span",{staticClass:"katex"},[e("span",{staticClass:"katex-mathml"},[e("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[e("semantics",[e("mrow",[e("mi",[t._v("c")]),e("mi",[t._v("o")]),e("mi",[t._v("n")]),e("mi",[t._v("f")]),e("mi",[t._v("i")]),e("mi",[t._v("r")]),e("mi",[t._v("m")]),e("mi",[t._v("T")]),e("mi",[t._v("i")]),e("mi",[t._v("m")]),e("mi",[t._v("e")]),e("mo",[t._v(">")]),e("mo",[t._v("=")]),e("mi",[t._v("s")]),e("mi",[t._v("e")]),e("mi",[t._v("e")]),e("mi",[t._v("d")]),e("mi",[t._v("C")]),e("mi",[t._v("o")]),e("mi",[t._v("u")]),e("mi",[t._v("n")]),e("mi",[t._v("t")])],1),e("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("confirmTime>=seedCount")])],1)],1)],1),e("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"base"},[e("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),e("span",{staticClass:"mord mathnormal"},[t._v("c")]),e("span",{staticClass:"mord mathnormal"},[t._v("o")]),e("span",{staticClass:"mord mathnormal"},[t._v("n")]),e("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),e("span",{staticClass:"mord mathnormal"},[t._v("i")]),e("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),e("span",{staticClass:"mord mathnormal"},[t._v("m")]),e("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),e("span",{staticClass:"mord mathnormal"},[t._v("i")]),e("span",{staticClass:"mord mathnormal"},[t._v("m")]),e("span",{staticClass:"mord mathnormal"},[t._v("e")]),e("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),e("span",{staticClass:"mrel"},[t._v(">")])]),e("span",{staticClass:"base"},[e("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),e("span",{staticClass:"mrel"},[t._v("=")]),e("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),e("span",{staticClass:"base"},[e("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),e("span",{staticClass:"mord mathnormal"},[t._v("s")]),e("span",{staticClass:"mord mathnormal"},[t._v("e")]),e("span",{staticClass:"mord mathnormal"},[t._v("e")]),e("span",{staticClass:"mord mathnormal"},[t._v("d")]),e("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),e("span",{staticClass:"mord mathnormal"},[t._v("o")]),e("span",{staticClass:"mord mathnormal"},[t._v("u")]),e("span",{staticClass:"mord mathnormal"},[t._v("n")]),e("span",{staticClass:"mord mathnormal"},[t._v("t")])])])])]),t._v(" "),e("li",[e("code",[t._v("quotaRatio")]),t._v(":"),e("code",[t._v("uint8")]),t._v(": Quota multiply factor between 10-100. Additional quota will be consumed for contract's caller when a number above 10 is passed in. For example, quotaRatio=15 means 1.5 times of quota will be charged for caller.")]),t._v(" "),e("li",[e("code",[t._v("hexCode")]),t._v(":"),e("code",[t._v("string")]),t._v(": The hex code of contract")]),t._v(" "),e("li",[e("code",[t._v("params")]),t._v(":"),e("code",[t._v("[]byte")]),t._v(": Encoded parameters, returned by "),e("code",[t._v("contract_getCreateContractParams")])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Returns")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("[]byte")]),t._v(" Data")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Example")]),t._v(":")])])]),t._v(" "),e("code-group",[e("code-block",{attrs:{title:"Request"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICAgJnF1b3Q7anNvbnJwYyZxdW90OzogJnF1b3Q7Mi4wJnF1b3Q7LAogICAgJnF1b3Q7aWQmcXVvdDs6IDEsCiAgICAmcXVvdDttZXRob2QmcXVvdDs6ICZxdW90O2NvbnRyYWN0X2dldENyZWF0ZUNvbnRyYWN0RGF0YSZxdW90OywKICAgICZxdW90O3BhcmFtcyZxdW90OzogW3sKICAgICAgICAmcXVvdDtnaWQmcXVvdDs6JnF1b3Q7MDAwMDAwMDAwMDAwMDAwMDAwMDImcXVvdDssCiAgICAgICAgJnF1b3Q7Y29uZmlybVRpbWUmcXVvdDs6MiwKICAgICAgICAmcXVvdDtzZWVkQ291bnQmcXVvdDs6MSwKICAgICAgICAmcXVvdDtxdW90YVJhdGlvJnF1b3Q7OjEwLAogICAgICAgICZxdW90O2hleENvZGUmcXVvdDs6JnF1b3Q7NjA4MDYwNDA1MjM0ODAxNTYxMDAxMDU3NjAwMDgwZmQ1YjUwNjEwMWNhODA2MTAwMjA2MDAwMzk2MDAwZjNmZTYwODA2MDQwNTI2MDA0MzYxMDYxMDA0MTU3NjAwMDM1N2MwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOTAwNDYzZmZmZmZmZmYxNjgwNjM4MGFlMGVhMTE0NjEwMDQ2NTc1YjYwMDA4MGZkNWI2MTAwYmQ2MDA0ODAzNjAzNjAyMDgxMTAxNTYxMDA1YzU3NjAwMDgwZmQ1YjgxMDE5MDgwODAzNTkwNjAyMDAxOTA2NDAxMDAwMDAwMDA4MTExMTU2MTAwNzk1NzYwMDA4MGZkNWI4MjAxODM2MDIwODIwMTExMTU2MTAwOGI1NzYwMDA4MGZkNWI4MDM1OTA2MDIwMDE5MTg0NjAyMDgzMDI4NDAxMTE2NDAxMDAwMDAwMDA4MzExMTcxNTYxMDBhZDU3NjAwMDgwZmQ1YjkwOTE5MjkzOTE5MjkzOTA1MDUwNTA2MTAwYmY1NjViMDA1YjYwMDA2MDAyODM4MzkwNTA4MTE1MTU2MTAwZDA1N2ZlNWIwNjE0MTUxNTYxMDBkZDU3NjAwMDgwZmQ1YjYwMDA4MDkwNTA2MDAwODA5MDUwNWI4MzgzOTA1MDgxMTAxNTYxMDE4YTU3NjAwMDg0ODQ4MzgxODExMDE1MTU2MTAxMDM1N2ZlNWI5MDUwNjAyMDAyMDEzNTkwNTA2MDAwODU4NTYwMDE4NTAxODE4MTEwMTUxNTYxMDExZjU3ZmU1YjkwNTA2MDIwMDIwMTM1OTA1MDgwODQwMTkzNTA4MDg0MTAxNTE1MTU2MTAxM2M1NzYwMDA4MGZkNWI2MDAwODExMTE1NjEwMTdkNTc4MTczZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjE2NDY2OWZmZmZmZmZmZmZmZmZmZmZmZmZmMTY4MjYwNDA1MTYwNDA1MTgwODIwMzkwODM4NTg3ZjE1MDUwNTA1MDViNTA1MDYwMDI4MTAxOTA1MDYxMDBlODU2NWI1MDM0ODExNDE1MTU2MTAxOTk1NzYwMDA4MGZkNWI1MDUwNTA1NmZlYTE2NTYyN2E3YTcyMzA1ODIwM2NlZjRhM2Y5M2IzM2U2NGU5OWUwZjg4ZjU4NjEyMTI4MjA4NDM5NGY2ZDRiNzBmMTAzMGNhOGMzNjBiNzQ2MjAwMjkmcXVvdDssIAogICAgICAgICZxdW90O3BhcmFtcyZxdW90OzomcXVvdDsmcXVvdDsKICAgIH1dCn0K"}})],1)],1),e("h2",{attrs:{id:"contract-getcallcontractdata"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract-getcallcontractdata"}},[t._v("#")]),t._v(" contract_getCallContractData")]),t._v(" "),e("p",[t._v("Generate request data for calling contract")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Parameters")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("string")]),t._v(": Contract's ABI definition")]),t._v(" "),e("li",[e("code",[t._v("string")]),t._v(": Calling method name")]),t._v(" "),e("li",[e("code",[t._v("[]string")]),t._v(": Passed-in parameters. Element is either a string for simple type or JSON string for complex")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Returns")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("[]byte")]),t._v(" Data")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Example")]),t._v(":")])])]),t._v(" "),e("code-group",[e("code-block",{attrs:{title:"Request"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICAgJnF1b3Q7anNvbnJwYyZxdW90OzogJnF1b3Q7Mi4wJnF1b3Q7LAogICAgJnF1b3Q7aWQmcXVvdDs6IDEsCiAgICAmcXVvdDttZXRob2QmcXVvdDs6ICZxdW90O2NvbnRyYWN0X2dldENhbGxDb250cmFjdERhdGEmcXVvdDssCiAgICAmcXVvdDtwYXJhbXMmcXVvdDs6IFsKICAgICAgICAmcXVvdDtbe1wmcXVvdDtjb25zdGFudFwmcXVvdDs6ZmFsc2UsXCZxdW90O2lucHV0c1wmcXVvdDs6W3tcJnF1b3Q7bmFtZVwmcXVvdDs6XCZxdW90O3ZvdGVyXCZxdW90OyxcJnF1b3Q7dHlwZVwmcXVvdDs6XCZxdW90O2FkZHJlc3NcJnF1b3Q7fV0sXCZxdW90O25hbWVcJnF1b3Q7OlwmcXVvdDthdXRob3JpemF0aW9uXCZxdW90OyxcJnF1b3Q7b3V0cHV0c1wmcXVvdDs6W10sXCZxdW90O3BheWFibGVcJnF1b3Q7OmZhbHNlLFwmcXVvdDtzdGF0ZU11dGFiaWxpdHlcJnF1b3Q7OlwmcXVvdDtub25wYXlhYmxlXCZxdW90OyxcJnF1b3Q7dHlwZVwmcXVvdDs6XCZxdW90O2Z1bmN0aW9uXCZxdW90O30se1wmcXVvdDtjb25zdGFudFwmcXVvdDs6ZmFsc2UsXCZxdW90O2lucHV0c1wmcXVvdDs6W3tcJnF1b3Q7bmFtZVwmcXVvdDs6XCZxdW90O3Byb3Bvc2FsXCZxdW90OyxcJnF1b3Q7dHlwZVwmcXVvdDs6XCZxdW90O3VpbnQyNTZcJnF1b3Q7fV0sXCZxdW90O25hbWVcJnF1b3Q7OlwmcXVvdDt2b3RlXCZxdW90OyxcJnF1b3Q7b3V0cHV0c1wmcXVvdDs6W10sXCZxdW90O3BheWFibGVcJnF1b3Q7OmZhbHNlLFwmcXVvdDtzdGF0ZU11dGFiaWxpdHlcJnF1b3Q7OlwmcXVvdDtub25wYXlhYmxlXCZxdW90OyxcJnF1b3Q7dHlwZVwmcXVvdDs6XCZxdW90O2Z1bmN0aW9uXCZxdW90O30se1wmcXVvdDtpbnB1dHNcJnF1b3Q7Olt7XCZxdW90O25hbWVcJnF1b3Q7OlwmcXVvdDtwcm9wb3NhbE5hbWVzXCZxdW90OyxcJnF1b3Q7dHlwZVwmcXVvdDs6XCZxdW90O3VpbnQyNTZbXVwmcXVvdDt9XSxcJnF1b3Q7cGF5YWJsZVwmcXVvdDs6ZmFsc2UsXCZxdW90O3N0YXRlTXV0YWJpbGl0eVwmcXVvdDs6XCZxdW90O25vbnBheWFibGVcJnF1b3Q7LFwmcXVvdDt0eXBlXCZxdW90OzpcJnF1b3Q7Y29uc3RydWN0b3JcJnF1b3Q7fV0mcXVvdDssCiAgICAgICAgJnF1b3Q7dm90ZSZxdW90OywKICAgICAgICBbJnF1b3Q7MHgxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExJnF1b3Q7XQogICAgXQp9Cg=="}})],1)],1),e("h2",{attrs:{id:"contract-getcontractinfo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract-getcontractinfo"}},[t._v("#")]),t._v(" contract_getContractInfo")]),t._v(" "),e("p",[t._v("Return contract information by specified contract address")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Parameters")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("string")]),t._v(": Contract address")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Returns")]),t._v(":\n"),e("code",[t._v("ContractInfo")])]),t._v(" "),e("ol",[e("li",[e("code",[t._v("code")]),t._v(": "),e("code",[t._v("[]byte")]),t._v("  Contract's code")]),t._v(" "),e("li",[e("code",[t._v("gid")]),t._v(": "),e("code",[t._v("Gid")]),t._v("  The id of delegated consensus group that the contract has assigned\n3 "),e("code",[t._v("confirmTime")]),t._v(":"),e("code",[t._v("uint8")]),t._v(": The number of snapshot blocks by which request sent to this contract is confirmed before responding to the transaction\n4 "),e("code",[t._v("seedCount")]),t._v(":"),e("code",[t._v("uint8")]),t._v(": The number of snapshot blocks having random seed by which request sent to this contract is confirmed before responding to the transaction")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Example")]),t._v(":")])])]),t._v(" "),e("code-group",[e("code-block",{attrs:{title:"Request"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICAgJnF1b3Q7anNvbnJwYyZxdW90OzogJnF1b3Q7Mi4wJnF1b3Q7LAogICAgJnF1b3Q7aWQmcXVvdDs6IDEsCiAgICAmcXVvdDttZXRob2QmcXVvdDs6ICZxdW90O2NvbnRyYWN0X2dldENvbnRyYWN0SW5mbyZxdW90OywKICAgICZxdW90O3BhcmFtcyZxdW90OzogWyZxdW90O3ZpdGVfMjJmNGYxOTViNmIwZjg5OWVhMjYzMjQxYTM3N2RiY2I4NmJlZmI4MDc1ZjkzZWVhYzgmcXVvdDtdCn0K"}})],1)],1),e("h2",{attrs:{id:"contract-getcalloffchaindata"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract-getcalloffchaindata"}},[t._v("#")]),t._v(" contract_getCallOffChainData")]),t._v(" "),e("p",[t._v("Encode passed-in parameters for "),e("code",[t._v("getter")]),t._v(" method. The returned value can be passed in method "),e("code",[t._v("contract_callOffChainMethod")]),t._v(" as data input")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Parameters")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("string")]),t._v(" Contract's ABI definition")]),t._v(" "),e("li",[e("code",[t._v("string")]),t._v(" "),e("code",[t._v("getter")]),t._v(" method name")]),t._v(" "),e("li",[e("code",[t._v("[]string")]),t._v(" Passed-in parameters")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Returns")]),t._v(":\n"),e("code",[t._v("[]byte")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Example")]),t._v(":")])])]),t._v(" "),e("code-group",[e("code-block",{attrs:{title:"Request"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICAgJnF1b3Q7anNvbnJwYyZxdW90OzogJnF1b3Q7Mi4wJnF1b3Q7LAogICAgJnF1b3Q7aWQmcXVvdDs6IDEsCiAgICAmcXVvdDttZXRob2QmcXVvdDs6ICZxdW90O2NvbnRyYWN0X2dldENhbGxPZmZDaGFpbkRhdGEmcXVvdDssCiAgICAmcXVvdDtwYXJhbXMmcXVvdDs6IFsKICAgICAgJnF1b3Q7W3tcJnF1b3Q7Y29uc3RhbnRcJnF1b3Q7OnRydWUsXCZxdW90O2lucHV0c1wmcXVvdDs6W10sXCZxdW90O25hbWVcJnF1b3Q7OlwmcXVvdDtnZXRUb2tlbkxpc3RcJnF1b3Q7LFwmcXVvdDtvdXRwdXRzXCZxdW90Ozpbe1wmcXVvdDtuYW1lXCZxdW90OzpcJnF1b3Q7XCZxdW90OyxcJnF1b3Q7dHlwZVwmcXVvdDs6XCZxdW90O3Rva2VuSWRbXVwmcXVvdDt9XSxcJnF1b3Q7cGF5YWJsZVwmcXVvdDs6ZmFsc2UsXCZxdW90O3N0YXRlTXV0YWJpbGl0eVwmcXVvdDs6XCZxdW90O3ZpZXdcJnF1b3Q7LFwmcXVvdDt0eXBlXCZxdW90OzpcJnF1b3Q7b2ZmY2hhaW5cJnF1b3Q7fV0mcXVvdDssCiAgICAgICZxdW90O2dldFRva2VuTGlzdCZxdW90OywKICAgICAgW10KICAgIF0KfQo="}})],1)],1),e("h2",{attrs:{id:"contract-calloffchainmethod"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract-calloffchainmethod"}},[t._v("#")]),t._v(" contract_callOffChainMethod")]),t._v(" "),e("p",[t._v("Query contract's state by calling the specified "),e("code",[t._v("getter")]),t._v(" method off-chain. Please note that only one parameter of either "),e("code",[t._v("offchainCode")]),t._v(" or "),e("code",[t._v("offChainCodeBytes")]),t._v(" is needed.")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Parameters")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Object")]),t._v(":\n"),e("ul",[e("li",[e("code",[t._v("selfAddr")]),t._v(":"),e("code",[t._v("Address")]),t._v(" Contract address")]),t._v(" "),e("li",[e("code",[t._v("offChainCode")]),t._v(":"),e("code",[t._v("string")]),t._v(" Hex code generated as "),e("code",[t._v("OffChain Binary")]),t._v(" when compiling the contract by specifying "),e("code",[t._v("--bin")]),t._v(" argument")]),t._v(" "),e("li",[e("code",[t._v("offChainCodeBytes")]),t._v(":"),e("code",[t._v("[]byte")]),t._v(" Base64 byte code generated as "),e("code",[t._v("OffChain Binary")]),t._v(" when compiling the contract by specifying "),e("code",[t._v("--bin")]),t._v(" argument")]),t._v(" "),e("li",[e("code",[t._v("Data")]),t._v(":"),e("code",[t._v("[]byte")]),t._v(" Encoded parameters, returned by "),e("code",[t._v("contract_getCallOffChainData")])])])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Returns")]),t._v(":\n"),e("code",[t._v("[]byte")]),t._v(" Return value of the "),e("code",[t._v("getter")]),t._v(" method")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Example")]),t._v(":")])])]),t._v(" "),e("code-group",[e("code-block",{attrs:{title:"Request"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICAgJnF1b3Q7anNvbnJwYyZxdW90OzogJnF1b3Q7Mi4wJnF1b3Q7LAogICAgJnF1b3Q7aWQmcXVvdDs6IDEsCiAgICAmcXVvdDttZXRob2QmcXVvdDs6ICZxdW90O2NvbnRyYWN0X2NhbGxPZmZDaGFpbk1ldGhvZCZxdW90OywKICAgICZxdW90O3BhcmFtcyZxdW90OzogW3sKICAgICAgJnF1b3Q7c2VsZkFkZHImcXVvdDs6JnF1b3Q7dml0ZV8yMmY0ZjE5NWI2YjBmODk5ZWEyNjMyNDFhMzc3ZGJjYjg2YmVmYjgwNzVmOTNlZWFjOCZxdW90OywKICAgICAgJnF1b3Q7b2ZmQ2hhaW5Db2RlQnl0ZXMmcXVvdDs6JnF1b3Q7WUlCZ1FGSmdCRFlRWVFCUVYyQUFOWHdCQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUpBRVkvLy8vLzhXZ0dPK1JvRTZGR0VBVkZlQVkvRW5IZ2dVWVFDeFYyRUFVRlpiVzFzQVcyRUFqV0FFZ0RZRFlDQ0JFQlZoQUd0WFlBQmdBUDFiZ1FHUWdJQTFhZi8vLy8vLy8vLy8vLzhXa0dBZ0FaQ1NrWkJRVUZCaEFSRldXMkJBVVlDRWdWSmdJQUdEZ1ZKZ0lBR0NnVkpnSUFHVFVGQlFVR0JBVVlDUkE1RHpXMkVBdVdFQjBWWmJZRUJSZ0lCZ0lBR0NnUU9DVW9PQmdWR0JVbUFnQVpGUWdGR1FZQ0FCa0dBZ0FvQ0RnMkFBVzRPQkVCVmhBUDFYZ0lJQlVZR0VBVkpiWUNDQkFaQlFZUURoVmx0UVVGQlFrRkFCa2xCUVVHQkFVWUNSQTVEelcyQUFZQUJnQUdBQ1lBQlFZQUNGYWYvLy8vLy8vLy8vLy84V2FmLy8vLy8vLy8vLy8vOFdnVkpnSUFHUWdWSmdJQUZnQUNGZ0FGQmdBQUZnQUZCVVlBSmdBRkJnQUlacC8vLy8vLy8vLy8vLy94WnAvLy8vLy8vLy8vLy8veGFCVW1BZ0FaQ0JVbUFnQVdBQUlXQUFVR0FCQVdBQVVGUmdBbUFBVUdBQWgybi8vLy8vLy8vLy8vLy9GbW4vLy8vLy8vLy8vLy8vRm9GU1lDQUJrSUZTWUNBQllBQWhZQUJRWUFJQllBQlFWSkpRa2xDU1VHRUJ5bFpia1pPUWtsQldXMkJnWUFGZ0FGQ0FWSUJnSUFKZ0lBRmdRRkdRZ1FGZ1FGS0FrcEdRZ1lGU1lDQUJnb0JVZ0JWaEFscFhZQ0FDZ2dHUmtHQUFVbUFnWUFBaGtHQUFrRnVDZ3BCVWtHRUJBQXFRQkduLy8vLy8vLy8vLy8vL0Ztbi8vLy8vLy8vLy8vLy9Gb0ZTWUNBQmtHQUtBWkJnSUlKZ0NRRUVrb01Ca21BQkE0SUNrVkNBaEJGaEFoRlhrRkJiVUZCUVVGQ1FVR0VDWmxaYmtGYitvV1ZpZW5weU1GZ2c5SlgySDJsL0plUnNxb2FNQ2JOYlYxcXpNZVBHQ0JlWWdPR1RLMWhJcTZvQUtRPT0mcXVvdDssCiAgICAgICZxdW90O2RhdGEmcXVvdDs6JnF1b3Q7ZjEyNzFlMDgmcXVvdDsKICAgIH1dCn0K"}})],1)],1)],1)}),[],!1,null,null,null);a.default=s.exports}}]);