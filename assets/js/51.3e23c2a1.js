(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{627:function(t,s,a){t.exports=a.p+"assets/img/vep12-random.141f8574.png"},833:function(t,s,a){"use strict";a.r(s);var i=a(1),m=Object(i.a)({},(function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"vep-12-the-implementation-of-random-numbers-in-vite"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#vep-12-the-implementation-of-random-numbers-in-vite"}},[t._v("#")]),t._v(" VEP-12: The Implementation of Random Numbers in Vite")]),t._v(" "),i("h2",{attrs:{id:"background"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#background"}},[t._v("#")]),t._v(" Background")]),t._v(" "),i("p",[t._v("Random numbers are widely used in Vite.\nOne good case is the consensus reaching process, where a random number is chosen in each round in the purpose of determining which supernode is responsible for producing the next snapshot block without being predicted in advance.\nAnother scenario is in gambling dApp games the results are generated depending on unpredictable random numbers to avoid manipulation.\nIn general, the random numbers in Vite should meet the following criteria:")]),t._v(" "),i("ol",[i("li",[t._v("Should NOT be manipulable")]),t._v(" "),i("li",[t._v("Should NOT be predictable")])]),t._v(" "),i("h2",{attrs:{id:"implementation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#implementation"}},[t._v("#")]),t._v(" Implementation")]),t._v(" "),i("p",[t._v("The design evolved from the dicing game in real life.\nBasically, a simple dicing game will go through the following 3 steps:")]),t._v(" "),i("ol",[i("li",[t._v("The dealer shakes the dice box")]),t._v(" "),i("li",[t._v("The player guesses the numbers and makes bet")]),t._v(" "),i("li",[t._v("The dealer uncovers dice box and shows result")])]),t._v(" "),i("p",[t._v("In this game, the dealer can have two ways of cheating:")]),t._v(" "),i("ol",[i("li",[t._v("Changing the result in secret after the player bets")]),t._v(" "),i("li",[t._v("Being aware of the result in advance and disguising as a player")])]),t._v(" "),i("p",[t._v("In real life, the following methods can be used to prevent from dealer's cheating, but with no 100% guarantees.")]),t._v(" "),i("ol",[i("li",[t._v("Inspecting dicing instruments (including dice box and die)")]),t._v(" "),i("li",[t._v("Supervising the whole dicing process")]),t._v(" "),i("li",[t._v("Using the dealer's reputation as guarantee")])]),t._v(" "),i("p",[t._v("In the blockchain world, a more secure and efficient way can be used to prevent the dealer from manipulating the result, by using random numbers.\nIn effect, this is equivalent to the following steps in the dicing example:")]),t._v(" "),i("ol",[i("li",[t._v("Introduce multiple dealers and adding all dicing results up as the final result. As long as one dealer does not cheat, the overall result is unpredictable. This step greatly increases cheating cost and reduces the probability in return")]),t._v(" "),i("li",[t._v("Once the dicing result is generated, the result hash is calculated and shown in public before the player places a bet for verification purpose. Whenever the dicing result is announced, it should match the hash value published before. This step effectively prevents the result from being tampered with")])]),t._v(" "),i("p",[t._v("Figure 1 shows how above idea is implemented in Vite")]),t._v(" "),i("p",[i("img",{attrs:{src:a(627),alt:"figure"}})]),i("div",{attrs:{align:"center"}},[t._v("Figure 1")]),i("p"),t._v(" "),i("p",[t._v("Each random number goes through three stages in the lifecycle:")]),t._v(" "),i("ol",[i("li",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("h")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("msub",[i("mi",[t._v("h")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("hash_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(" is announced when "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("random_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(" is generated")]),t._v(" "),i("li",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("random_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(" is announced")]),t._v(" "),i("li",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("random_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(" is used somewhere")])]),t._v(" "),i("p",[t._v("In the figure, block "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("N")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),t._v(" to "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("+")]),i("mn",[t._v("5")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("N+5")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("5")])])])]),t._v(" are 6 consecutive snapshot blocks produced by 3 SBPs (we assume the system has only 3 SBPs).")]),t._v(" "),i("p",[t._v("When producing a block, each SBP should announce the random number's hash of current round and the random number that was created by this very SBP in previous round.\nFor example, "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("h")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("msub",[i("mi",[t._v("h")]),i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("+")]),i("mn",[t._v("3")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("hash_{N+3}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.902771em","vertical-align":"-0.208331em"}}),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.328331em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("3")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.208331em"}},[i("span")])])])])])])])]),t._v(" (the hash of random number in "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("msub",[i("mi",[t._v("k")]),i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("+")]),i("mn",[t._v("3")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Block_{N+3}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.902771em","vertical-align":"-0.208331em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.328331em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03148em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("3")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.208331em"}},[i("span")])])])])])])])]),t._v(") and "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("random_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(" (the random number produced in "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("msub",[i("mi",[t._v("k")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Block_{N}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03148em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(") are announced in "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("msub",[i("mi",[t._v("k")]),i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("+")]),i("mn",[t._v("3")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Block_{N+3}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.902771em","vertical-align":"-0.208331em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.328331em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03148em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("3")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.208331em"}},[i("span")])])])])])])])]),t._v(". This requires "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("H")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("mi",[t._v("h")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",[t._v("h")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("msub",[i("mi",[t._v("h")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Hash(random_N)=hash_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(", meaning the hash of "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("random_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(" should be in equal with "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("h")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("msub",[i("mi",[t._v("h")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("hash_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(", otherwise "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("random_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(" is invalid.")]),t._v(" "),i("p",[t._v("In this way, when a new block is produced, a random seed can be calculated based on the random numbers announced by all SBPs in previous round. In our example, "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("msub",[i("mi",[t._v("k")]),i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("+")]),i("mn",[t._v("5")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Block_{N+5}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.902771em","vertical-align":"-0.208331em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.328331em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03148em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("5")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.208331em"}},[i("span")])])])])])])])]),t._v(" has random seed "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("S")]),i("mi",[t._v("u")]),i("mi",[t._v("m")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("+")]),i("mn",[t._v("2")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("+")]),i("mn",[t._v("1")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Sum(random_{N+2}, random_{N+1}, random_{N})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathnormal"},[t._v("u")]),i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.328331em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.208331em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.328331em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.208331em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(".\nThis result is unpredictable until "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("msub",[i("mi",[t._v("k")]),i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("+")]),i("mn",[t._v("5")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Block_{N+5}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.902771em","vertical-align":"-0.208331em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.328331em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03148em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("5")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.208331em"}},[i("span")])])])])])])])]),t._v(" is produced, and also "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("msub",[i("mi",[t._v("k")]),i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("+")]),i("mn",[t._v("5")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Block_{N+5}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.902771em","vertical-align":"-0.208331em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.328331em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03148em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("5")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.208331em"}},[i("span")])])])])])])])]),t._v(" is not able to manipulate the result.\nThis perfectly satisfies the two criteria we mentioned above.")]),t._v(" "),i("p",[t._v("In actual implementation, in order to save storage, "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("random_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(" is defined as "),i("code",[t._v("uin64")]),t._v(", and "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("h")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("msub",[i("mi",[t._v("h")]),i("mi",[t._v("N")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("hash_N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),t._v(" is "),i("code",[t._v("32byte")]),t._v(".")]),t._v(" "),i("p",[t._v("At the same time, for security reason of avoiding brute-force attack, the hash function is defined as:")]),t._v(" "),i("p",{staticClass:"katex-block"},[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[i("semantics",[i("mrow",[i("mi",[t._v("h")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("msub",[i("mi",[t._v("h")]),i("mi",[t._v("N")])],1),i("mo",[t._v("=")]),i("mi",[t._v("H")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("mi",[t._v("h")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("msub",[i("mi",[t._v("m")]),i("mi",[t._v("N")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("msub",[i("mi",[t._v("k")]),i("mi",[t._v("N")])],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("P")]),i("mi",[t._v("r")]),i("mi",[t._v("e")]),i("mi",[t._v("v")]),i("mi",[t._v("H")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("mi",[t._v("h")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("msub",[i("mi",[t._v("k")]),i("mi",[t._v("N")])],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("T")]),i("mi",[t._v("i")]),i("mi",[t._v("m")]),i("mi",[t._v("e")]),i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("a")]),i("mi",[t._v("m")]),i("mi",[t._v("p")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("hash_N = Hash(random_N, Block_N.PrevHash, Block_N.Timestamp)\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("n")]),i("span",{staticClass:"mord mathnormal"},[t._v("d")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03148em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathnormal"},[t._v("e")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03148em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathnormal"},[t._v("i")]),i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"mord mathnormal"},[t._v("e")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord mathnormal"},[t._v("t")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"mord mathnormal"},[t._v("p")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])]),t._v(" "),i("h2",{attrs:{id:"random-seed-in-contract"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#random-seed-in-contract"}},[t._v("#")]),t._v(" Random Seed in Contract")]),t._v(" "),i("p",[t._v("In Vite, a contract call is split into a pair of request and response. If random numbers are involved in the contract's business logic, the contract should wait until the request transaction is snapshotted and use this snapshot block for random seed.\nIn real implementation, request block hash is used together to guarantee the maximum unpredictability.")]),t._v(" "),i("h2",{attrs:{id:"conclusion"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[t._v("#")]),t._v(" Conclusion")]),t._v(" "),i("p",[t._v("As the usage of random numbers in blockchain increases, a well-designed random number solution that cannot be manipulated and predicted significantly improves the security.\nThis proposal suggests an implementation method of random numbers in Vite.")])])}),[],!1,null,null,null);s.default=m.exports}}]);