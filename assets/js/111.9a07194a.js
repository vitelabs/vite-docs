(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{708:function(e,t,a){"use strict";a.r(t);var r=a(1),i=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"security-algorithms-in-vite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#security-algorithms-in-vite"}},[e._v("#")]),e._v(" Security Algorithms in Vite")]),e._v(" "),a("p",[e._v("Asymmetric encryption, Hash and other security algorithms are the cornerstone of the blockchain. Among many implementations of security algorithms, how does Vite choose?")]),e._v(" "),a("h2",{attrs:{id:"a-digital-signature-algorithm-ed25519"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-digital-signature-algorithm-ed25519"}},[e._v("#")]),e._v(" A. Digital Signature Algorithm - "),a("a",{attrs:{href:"https://ed25519.cr.yp.to/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ed25519"),a("OutboundLink")],1)]),e._v(" "),a("h3",{attrs:{id:"background"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#background"}},[e._v("#")]),e._v(" Background")]),e._v(" "),a("p",[e._v("The purpose of the digital signature is to create "),a("strong",[e._v("non-repudiation")]),e._v(", a key characteristic of a wet signature (one we sign on paper contracts). The core feature of an effective digital signature is that the signer will be clearly identify based on the signed message, because the signed message can only be produced by relevant private key holders. Digital signature is legally enforceable in some countries, for instance, the Electronic Signature Act in USA and Signature Act in Germany.")]),e._v(" "),a("p",[e._v("The public key and the private key play critical roles in the process of signing with the private key, publishing the public key, and sending the message and its signed version for validation purposes. The pair tends to appear together, and is sort of inseparable like quantum entanglement. Public and private key are commonly generated through a special one-way function and a random number. The complexity of solving the one-way function f(x) = y is equivalent to that of solving polynomials, while solving the inverse function, f"),a("sup",[e._v("-1")]),e._v("(y) = x, is exponential difficulty. The cost of calculating a private key from a public key exceeds the capability of any modern computing systems. The signature model is safe enough by now. However, if quantum computers are available in the future, then the current asymmetric encryption mechanism including RSA, DLP (Discrete Logarithm Problem) or ECC (Elliptical Curve Cryptography, expanded from DLP) will not be safe anymore. In other words, the attainment of quantum security will probably take as long as the invention of quantum computers.")]),e._v(" "),a("p",[e._v('The signature algorithm, on which the generation of account addresses and transactions is all based, is essential for the blockchain system. To select a signature algorithm, we need to evaluate the algorithm\'s security and performance, where security is the more important concern. Satoshi Nakamoto selected "ECDSA over secp256k1". Secp256k1 was a Koblitz curve defined by SECG.  Before Nakamoto\'s paper, the algorithm wasn\'t really used by anybody. "ECDSA over secp256k1" is designed transparently, while the "secp256r1" curve (the more mainstream P256 algorithm) used by NIST has weird parameters, which are widely recognized as the '),a("a",{attrs:{href:"https://www.ams.org/notices/201402/rnoti-p190.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("back door"),a("OutboundLink")],1),e._v(" arranged by NSA.  A series of subsequent incidents clearly proved the vision of Nakamoto's choice, which was picked up by Ethereum and EOS.")]),e._v(" "),a("p",[e._v("However, with the expiration of patent Ed25519, both the "),a("a",{attrs:{href:"https://bitcointalk.org/index.php?topic=103172.msg1134832#msg1134832",target:"_blank",rel:"noopener noreferrer"}},[e._v("core developers of Bitcoin"),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"https://blog.ethereum.org/2015/07/05/on-abstraction/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vitalik Buterin"),a("OutboundLink")],1),e._v(" had talked about transfer to Ed25519.  Despite their preference for Ed25519 as indicated in the documents, the porting cost was too high to execute the transfer.  Whereas,  Ripple made such a migration in 2014 without any hesitation.")]),e._v(" "),a("h3",{attrs:{id:"consideration-of-security"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#consideration-of-security"}},[e._v("#")]),e._v(" Consideration of Security")]),e._v(" "),a("p",[e._v('Ed25519 was considered "safe" after being tested and reviewed by many independents and well-known security professionals, while secp256k1 was deemed "unsafe." '),a("a",{attrs:{href:"https://safecurves.cr.yp.to/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Here"),a("OutboundLink")],1),e._v(" is the reference.")]),e._v(" "),a("h3",{attrs:{id:"consideration-of-performance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#consideration-of-performance"}},[e._v("#")]),e._v(" Consideration of Performance")]),e._v(" "),a("p",[e._v('To satisfy the industrial application requirements for high throughput, low latency and good scalability, Vite has designed several optimization schemes, including introducing the concept of "transaction decomposition" which means to decompose a transaction into a "Request" and a "Response."  As such, verification and confirmation can happen quite frequently, and therefore the performance of the whole system is especially sensitive to the speed of both signature algorithm and signature verification process.  The matter of this speed is especially important given Vite\'s high TPS target.  According to recent data, the performance of Ed25519 is several times faster than ECDSA over secp256k1 ('),a("a",{attrs:{href:"https://ripple.com/dev-blog/curves-with-a-twist/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reference: the benchmark built by Ripple"),a("OutboundLink")],1),e._v("). We believe that the speed boost will greatly improve the performance of Vite system. In addition, the signature of Ed25519 is slightly shorter than that of ECDSA, which reduces the pressure of the network transmission and the storage system.")]),e._v(" "),a("p",[e._v("For more detailed benchmark, check "),a("a",{attrs:{href:"https://bench.cr.yp.to/primitives-sign.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reference"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"modification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#modification"}},[e._v("#")]),e._v(" Modification")]),e._v(" "),a("p",[e._v("Instead of using SHA2 in Ed25519, Vite uses Blake2b.")]),e._v(" "),a("h3",{attrs:{id:"deficiency"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deficiency"}},[e._v("#")]),e._v(" Deficiency")]),e._v(" "),a("p",[e._v("Since the key space is non-linear, the system is unable to be compatible with Hierarchical Deterministic Key Derivation of BIP.")]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"b-hash-algorithm-blake2b"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b-hash-algorithm-blake2b"}},[e._v("#")]),e._v(" B. Hash algorithm - "),a("a",{attrs:{href:"https://blake2.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Blake2b"),a("OutboundLink")],1)]),e._v(" "),a("h3",{attrs:{id:"background-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#background-2"}},[e._v("#")]),e._v(" Background")]),e._v(" "),a("p",[e._v("The purpose of a hash algorithm is to generate a short, fixed-size summary from any long message. The Hash function is also one-way. But the difference between a hash function and the one-way function of asymmetric encryption system is that the latter function usually seeks a reverse solution, which is practically impossible while theoretically possible. That is to say, a public key includes all the information that is needed to generate the private key. However, a hash function is not theoretically reversible but is practically reversible. A hash has infinitely many source messages corresponding to it, and here is an example: If a hash function's output is n bits, then the amount of all the output will be 2"),a("sup",[e._v("n")]),e._v(", but there is an infinite amount of possible inputs. According to the pigeonhole principle, If the input preimage is m * 2"),a("sup",[e._v("n")]),e._v(" bits long and the output of the hash function is evenly distributed, the probability of an X which allows Hash(X) = target being the preimage is 1/m(if not evenly distributed, the probability is even lower). In practice, however, the source text will not be too long, due to limited storage and computing power. Generally, if the input isn't very long, then the range of m will not be wide. So the X that makes Hash(X) = Target will probably be the real source message.")]),e._v(" "),a("p",[e._v("In the Vite system, the hash function is responsible for mining, data tamper-proofing, data protection etc. It is as fundamental as the signature algorithm, so we will seriously consider about the security and the performance of hash algorithm.")]),e._v(" "),a("p",[e._v("Security Consideration\nBlake2 evolves from Blake. Blake lost when competing with keccak for SHA3 standard. The reason was that Blake and SHA2 are similar to each other, while NIST aimed at a Hash algorithm which was totally different from SHA2 standard.")]),e._v(" "),a("blockquote",[a("p",[e._v("desire for SHA-3 to complement the existing SHA-2 algorithms … BLAKE is rather similar to SHA-2.")])]),e._v(" "),a("p",[e._v("NIST appraised Blake quite highly:")]),e._v(" "),a("blockquote",[a("p",[e._v("“BLAKE and Keccak have very large security margins.”。")])]),e._v(" "),a("p",[e._v("So we assume that the level of security between Blake2 and keccak are similar.")]),e._v(" "),a("h3",{attrs:{id:"performance-consideration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#performance-consideration"}},[e._v("#")]),e._v(" Performance Consideration")]),e._v(" "),a("p",[e._v("According to a massive amount of data, Blake2 beats any other Hash algorithm on generic CPUs(X86 ARM and etc.). For detailed performance, check "),a("a",{attrs:{href:"http://bench.cr.yp.to/results-sha3.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reference"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Another characteristics of Blake2 is that, the peak value of Blake2 algorithm designed by ASIC wouldn't be very high, which means the peak speed of mining is relatively low.")]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"c-key-derivation-function-scrypt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-key-derivation-function-scrypt"}},[e._v("#")]),e._v(" C. Key Derivation Function - "),a("a",{attrs:{href:"https://github.com/Tarsnap/scrypt",target:"_blank",rel:"noopener noreferrer"}},[e._v("scrypt"),a("OutboundLink")],1)]),e._v(" "),a("h3",{attrs:{id:"background-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#background-3"}},[e._v("#")]),e._v(" Background")]),e._v(" "),a("p",[e._v("In simple terms, Key Derivation Function is used to derive sub-private keys from a master private key. One example is to expand a short string to a required format through the KDF algorithm. KDF is similar to hash, with a difference of adding random variables to prevent being hacked by table-lookup attacks (e.g. rainbow tables). The scrypt we used is a memory-dependent KDF so every calculation takes up significant memory and time. So brute force attack is nearly impossible.")]),e._v(" "),a("p",[e._v("KDF is non-fundamental in our system. After converting the short variable-length keyword input by users through KDF and receiving keys of 256 bits, we use the keys along with AES-256-GCM algorithm to encrypt Ed25519 private keys so that those keys will be securely saved in personal computers.")]),e._v(" "),a("h3",{attrs:{id:"reasons"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reasons"}},[e._v("#")]),e._v(" Reasons")]),e._v(" "),a("p",[e._v("From a technical perspective, there is no significant change between scrypt and argon2, which won 2015 Password Hashing Competition. But scrypt is more mature from a practical perspective because it was born earlier and used more widely. If there is no critical problem of argon2 in the next 2 to 3 years, we would consider keep using it.")]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"d-relative-terms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#d-relative-terms"}},[e._v("#")]),e._v(" D. Relative terms")]),e._v(" "),a("ul",[a("li",[a("p",[e._v('"ECDSA"(Elliptic Curve Digital Signature Algorithm) is a digital signature algorithm using elliptic curve')])]),e._v(" "),a("li",[a("p",[e._v('"secp256k1" is a parameter of ECDSA algorithm')]),e._v(" "),a("ul",[a("li",[e._v('"sec" is Standards for Efficient Cryptogrpahy introduced by SECG(Standards for Efficient Cryptography Group)')]),e._v(" "),a("li",[e._v('"p" means the elliptic curve uses prime field')]),e._v(" "),a("li",[e._v('"256" means the length of the prime is 256 bits')]),e._v(" "),a("li",[e._v('"k" stands for Koblitz Curve')]),e._v(" "),a("li",[e._v('"1" means it is the first(only on actually) standard curve type')])])]),e._v(" "),a("li",[a("p",[e._v("Ed25519 is a "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/EdDSA",target:"_blank",rel:"noopener noreferrer"}},[e._v("EdDSA"),a("OutboundLink")],1),e._v(" Signature algorithm using SHA512/256 and "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Curve25519",target:"_blank",rel:"noopener noreferrer"}},[e._v("Curve25519"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[e._v("NIST(National Institute of Standards and Technology) develops security standards like SHA3, P256 and etc..")])]),e._v(" "),a("li",[a("p",[e._v("NSA stands for National Security Agency")])]),e._v(" "),a("li",[a("p",[e._v("AES-256-GCM is an advanced encryption standard with 256-bits key in Galois/Counter Mode")])])])])}),[],!1,null,null,null);t.default=i.exports}}]);